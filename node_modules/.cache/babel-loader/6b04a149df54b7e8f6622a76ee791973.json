{"ast":null,"code":"import React,{useState}from'react';import Avatar from'@mui/material/Avatar';import Button from'@mui/material/Button';import CssBaseline from'@mui/material/CssBaseline';import TextField from'@mui/material/TextField';import FormControlLabel from'@mui/material/FormControlLabel';import Checkbox from'@mui/material/Checkbox';import Link from'@mui/material/Link';import Grid from'@mui/material/Grid';import Box from'@mui/material/Box';import LockOutlinedIcon from'@mui/icons-material/LockOutlined';import Typography from'@mui/material/Typography';import Container from'@mui/material/Container';import{createTheme,ThemeProvider}from'@mui/material/styles';import{useHistory}from'react-router-dom';// Changed from useNavigate to useHistory\nimport axios from'axios';function Copyright(props){return/*#__PURE__*/React.createElement(Typography,Object.assign({variant:\"body2\",color:\"text.secondary\",align:\"center\"},props),'Copyright © ',/*#__PURE__*/React.createElement(Link,{color:\"inherit\",href:\"https://mui.com/\"},\"Your Website\"),' ',new Date().getFullYear(),'.');}const defaultTheme=createTheme();export default function Login(_ref){let{setUser}=_ref;const history=useHistory();// Changed from useNavigate to useHistory\nconst[email,setEmail]=useState('');const[password,setPassword]=useState('');const[errorMessage,setErrorMessage]=useState('');const handleSubmit=async event=>{event.preventDefault();try{const response=await axios.get('https://665d7770e88051d60406b43d.mockapi.io/test');const user=response.data.find(user=>user.email===email&&user.password===password);if(user){setUser(user);history.push(\"/home\");// Ensure the correct path to Home component\n}else{setErrorMessage('Invalid credentials');}}catch(error){console.error(\"There was an error logging in!\",error);setErrorMessage('An error occurred during login. Please try again.');}};return/*#__PURE__*/React.createElement(ThemeProvider,{theme:defaultTheme},/*#__PURE__*/React.createElement(Container,{component:\"main\",maxWidth:\"xs\"},/*#__PURE__*/React.createElement(CssBaseline,null),/*#__PURE__*/React.createElement(Box,{sx:{backgroundColor:'#f5f5f5',// Light gray background\npadding:4,// Increased padding\nborderRadius:4,// Rounded corners\nboxShadow:3,// Box shadow for depth\ndisplay:'flex',flexDirection:'column',alignItems:'center',marginTop:8}},/*#__PURE__*/React.createElement(Avatar,{sx:{m:1,bgcolor:'secondary.main'}},/*#__PURE__*/React.createElement(LockOutlinedIcon,null)),/*#__PURE__*/React.createElement(Typography,{component:\"h1\",variant:\"h5\",sx:{marginBottom:2}},\"Login\"),errorMessage&&/*#__PURE__*/React.createElement(Typography,{color:\"error\",variant:\"body2\",sx:{marginBottom:2}},errorMessage),/*#__PURE__*/React.createElement(Box,{component:\"form\",onSubmit:handleSubmit,noValidate:true,sx:{width:'100%'}},/*#__PURE__*/React.createElement(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"email\",label:\"Email Address\",name:\"email\",autoComplete:\"email\",autoFocus:true,value:email,onChange:e=>setEmail(e.target.value),sx:{marginBottom:2,marginTop:2,width:'calc(100%)',height:'calc(10%)'}}),/*#__PURE__*/React.createElement(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",autoComplete:\"current-password\",value:password,onChange:e=>setPassword(e.target.value),sx:{marginBottom:2,width:'calc(100%)',height:'calc(10%)'}// Added margin bottom and adjusted width\n}),/*#__PURE__*/React.createElement(FormControlLabel,{control:/*#__PURE__*/React.createElement(Checkbox,{value:\"remember\",color:\"primary\"}),label:\"Remember me\",sx:{marginBottom:2}// Added margin bottom\n}),/*#__PURE__*/React.createElement(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2,bgcolor:'primary.main','&:hover':{bgcolor:'primary.dark'}}},\"Login\"),/*#__PURE__*/React.createElement(Grid,{container:true},/*#__PURE__*/React.createElement(Grid,{item:true,xs:true},/*#__PURE__*/React.createElement(Link,{href:\"#\",variant:\"body2\"},\"Forgot password?\")),/*#__PURE__*/React.createElement(Grid,{item:true},/*#__PURE__*/React.createElement(Link,{href:\"/register\",variant:\"body2\"},\"Don't have an account? Register\"))))),/*#__PURE__*/React.createElement(Copyright,{sx:{mt:8,mb:4}})));}","map":{"version":3,"names":["React","useState","Avatar","Button","CssBaseline","TextField","FormControlLabel","Checkbox","Link","Grid","Box","LockOutlinedIcon","Typography","Container","createTheme","ThemeProvider","useHistory","axios","Copyright","props","createElement","Object","assign","variant","color","align","href","Date","getFullYear","defaultTheme","Login","_ref","setUser","history","email","setEmail","password","setPassword","errorMessage","setErrorMessage","handleSubmit","event","preventDefault","response","get","user","data","find","push","error","console","theme","component","maxWidth","sx","backgroundColor","padding","borderRadius","boxShadow","display","flexDirection","alignItems","marginTop","m","bgcolor","marginBottom","onSubmit","noValidate","width","margin","required","fullWidth","id","label","name","autoComplete","autoFocus","value","onChange","e","target","height","type","control","mt","mb","container","item","xs"],"sources":["D:/How/1_The first ReactJS project/homeassist-frontend/src/components/pages/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport Button from '@mui/material/Button';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport TextField from '@mui/material/TextField';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport Checkbox from '@mui/material/Checkbox';\r\nimport Link from '@mui/material/Link';\r\nimport Grid from '@mui/material/Grid';\r\nimport Box from '@mui/material/Box';\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\r\nimport Typography from '@mui/material/Typography';\r\nimport Container from '@mui/material/Container';\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\nimport { useHistory } from 'react-router-dom'; // Changed from useNavigate to useHistory\r\nimport axios from 'axios';\r\n\r\nfunction Copyright(props) {\r\n    return (\r\n        <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\" {...props}>\r\n            {'Copyright © '}\r\n            <Link color=\"inherit\" href=\"https://mui.com/\">\r\n                Your Website\r\n            </Link>{' '}\r\n            {new Date().getFullYear()}\r\n            {'.'}\r\n        </Typography>\r\n    );\r\n}\r\n\r\nconst defaultTheme = createTheme();\r\n\r\nexport default function Login({ setUser }) {\r\n    const history = useHistory(); // Changed from useNavigate to useHistory\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        try {\r\n            const response = await axios.get('https://665d7770e88051d60406b43d.mockapi.io/test');\r\n            const user = response.data.find(user => user.email === email && user.password === password);\r\n            if (user) {\r\n                setUser(user);\r\n                history.push(\"/home\"); // Ensure the correct path to Home component\r\n            } else {\r\n                setErrorMessage('Invalid credentials');\r\n            }\r\n        } catch (error) {\r\n            console.error(\"There was an error logging in!\", error);\r\n            setErrorMessage('An error occurred during login. Please try again.');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <ThemeProvider theme={defaultTheme}>\r\n            <Container component=\"main\" maxWidth=\"xs\">\r\n                <CssBaseline />\r\n                <Box\r\n                    sx={{\r\n                        backgroundColor: '#f5f5f5', // Light gray background\r\n                        padding: 4, // Increased padding\r\n                        borderRadius: 4, // Rounded corners\r\n                        boxShadow: 3, // Box shadow for depth\r\n                        display: 'flex',\r\n                        flexDirection: 'column',\r\n                        alignItems: 'center',\r\n                        marginTop: 8\r\n                    }}\r\n                >\r\n                    <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\r\n                        <LockOutlinedIcon />\r\n                    </Avatar>\r\n                    <Typography component=\"h1\" variant=\"h5\" sx={{ marginBottom: 2 }}>\r\n                        Login\r\n                    </Typography>\r\n                    {errorMessage && (\r\n                        <Typography color=\"error\" variant=\"body2\" sx={{ marginBottom: 2 }}>\r\n                            {errorMessage}\r\n                        </Typography>\r\n                    )}\r\n                    <Box component=\"form\" onSubmit={handleSubmit} noValidate sx={{ width: '100%' }}>\r\n                        <TextField\r\n                            margin=\"normal\"\r\n                            required\r\n                            fullWidth\r\n                            id=\"email\"\r\n                            label=\"Email Address\"\r\n                            name=\"email\"\r\n                            autoComplete=\"email\"\r\n                            autoFocus\r\n                            value={email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                            sx={{ marginBottom: 2, marginTop: 2, width: 'calc(100%)', height: 'calc(10%)' }}\r\n                        />\r\n                        <TextField\r\n                            margin=\"normal\"\r\n                            required\r\n                            fullWidth\r\n                            name=\"password\"\r\n                            label=\"Password\"\r\n                            type=\"password\"\r\n                            id=\"password\"\r\n                            autoComplete=\"current-password\"\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            sx={{ marginBottom: 2, width: 'calc(100%)', height: 'calc(10%)' }} // Added margin bottom and adjusted width\r\n                        />\r\n                        <FormControlLabel\r\n                            control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n                            label=\"Remember me\"\r\n                            sx={{ marginBottom: 2 }} // Added margin bottom\r\n                        />\r\n                        <Button\r\n                            type=\"submit\"\r\n                            fullWidth\r\n                            variant=\"contained\"\r\n                            sx={{\r\n                                mt: 3,\r\n                                mb: 2,\r\n                                bgcolor: 'primary.main',\r\n                                '&:hover': {\r\n                                    bgcolor: 'primary.dark',\r\n                                },\r\n                            }}\r\n                        >\r\n                            Login\r\n                        </Button>\r\n                        <Grid container>\r\n                            <Grid item xs>\r\n                                <Link href=\"#\" variant=\"body2\">\r\n                                    Forgot password?\r\n                                </Link>\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <Link href=\"/register\" variant=\"body2\">\r\n                                    {\"Don't have an account? Register\"}\r\n                                </Link>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Box>\r\n                </Box>\r\n\r\n                <Copyright sx={{ mt: 8, mb: 4 }} />\r\n            </Container>\r\n        </ThemeProvider>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}