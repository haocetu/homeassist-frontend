{"ast":null,"code":"/*! Magnific Popup - v1.2.0 - 2024-06-08\r\n* http://dimsemenov.com/plugins/magnific-popup/\r\n* Copyright (c) 2024 Dmytro Semenov; */\n;\n(function (factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module. \n    define(['jquery'], factory);\n  } else if (typeof exports === 'object') {\n    // Node/CommonJS \n    factory(require('jquery'));\n  } else {\n    // Browser globals \n    factory(window.jQuery || window.Zepto);\n  }\n})(function ($) {\n  /*>>core*/\n  /**\r\n   * \r\n   * Magnific Popup Core JS file\r\n   * \r\n   */\n\n  /**\r\n   * Private static constants\r\n   */\n  var CLOSE_EVENT = 'Close',\n    BEFORE_CLOSE_EVENT = 'BeforeClose',\n    AFTER_CLOSE_EVENT = 'AfterClose',\n    BEFORE_APPEND_EVENT = 'BeforeAppend',\n    MARKUP_PARSE_EVENT = 'MarkupParse',\n    OPEN_EVENT = 'Open',\n    CHANGE_EVENT = 'Change',\n    NS = 'mfp',\n    EVENT_NS = '.' + NS,\n    READY_CLASS = 'mfp-ready',\n    REMOVING_CLASS = 'mfp-removing',\n    PREVENT_CLOSE_CLASS = 'mfp-prevent-close';\n\n  /**\r\n   * Private vars \r\n   */\n  /*jshint -W079 */\n  var mfp,\n    // As we have only one instance of MagnificPopup object, we define it locally to not to use 'this'\n    MagnificPopup = function () {},\n    _isJQ = !!window.jQuery,\n    _prevStatus,\n    _window = $(window),\n    _document,\n    _prevContentType,\n    _wrapClasses,\n    _currPopupType;\n\n  /**\r\n   * Private functions\r\n   */\n  var _mfpOn = function (name, f) {\n      mfp.ev.on(NS + name + EVENT_NS, f);\n    },\n    _getEl = function (className, appendTo, html, raw) {\n      var el = document.createElement('div');\n      el.className = 'mfp-' + className;\n      if (html) {\n        el.innerHTML = html;\n      }\n      if (!raw) {\n        el = $(el);\n        if (appendTo) {\n          el.appendTo(appendTo);\n        }\n      } else if (appendTo) {\n        appendTo.appendChild(el);\n      }\n      return el;\n    },\n    _mfpTrigger = function (e, data) {\n      mfp.ev.triggerHandler(NS + e, data);\n      if (mfp.st.callbacks) {\n        // converts \"mfpEventName\" to \"eventName\" callback and triggers it if it's present\n        e = e.charAt(0).toLowerCase() + e.slice(1);\n        if (mfp.st.callbacks[e]) {\n          mfp.st.callbacks[e].apply(mfp, Array.isArray(data) ? data : [data]);\n        }\n      }\n    },\n    _getCloseBtn = function (type) {\n      if (type !== _currPopupType || !mfp.currTemplate.closeBtn) {\n        mfp.currTemplate.closeBtn = $(mfp.st.closeMarkup.replace('%title%', mfp.st.tClose));\n        _currPopupType = type;\n      }\n      return mfp.currTemplate.closeBtn;\n    },\n    // Initialize Magnific Popup only when called at least once\n    _checkInstance = function () {\n      if (!$.magnificPopup.instance) {\n        /*jshint -W020 */\n        mfp = new MagnificPopup();\n        mfp.init();\n        $.magnificPopup.instance = mfp;\n      }\n    },\n    // CSS transition detection, http://stackoverflow.com/questions/7264899/detect-css-transitions-using-javascript-and-without-modernizr\n    supportsTransitions = function () {\n      var s = document.createElement('p').style,\n        // 's' for style. better to create an element if body yet to exist\n        v = ['ms', 'O', 'Moz', 'Webkit']; // 'v' for vendor\n\n      if (s['transition'] !== undefined) {\n        return true;\n      }\n      while (v.length) {\n        if (v.pop() + 'Transition' in s) {\n          return true;\n        }\n      }\n      return false;\n    };\n\n  /**\r\n   * Public functions\r\n   */\n  MagnificPopup.prototype = {\n    constructor: MagnificPopup,\n    /**\r\n     * Initializes Magnific Popup plugin. \r\n     * This function is triggered only once when $.fn.magnificPopup or $.magnificPopup is executed\r\n     */\n    init: function () {\n      var appVersion = navigator.appVersion;\n      mfp.isLowIE = mfp.isIE8 = document.all && !document.addEventListener;\n      mfp.isAndroid = /android/gi.test(appVersion);\n      mfp.isIOS = /iphone|ipad|ipod/gi.test(appVersion);\n      mfp.supportsTransition = supportsTransitions();\n\n      // We disable fixed positioned lightbox on devices that don't handle it nicely.\n      // If you know a better way of detecting this - let me know.\n      mfp.probablyMobile = mfp.isAndroid || mfp.isIOS || /(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent);\n      _document = $(document);\n      mfp.popupsCache = {};\n    },\n    /**\r\n     * Opens popup\r\n     * @param  data [description]\r\n     */\n    open: function (data) {\n      var i;\n      if (data.isObj === false) {\n        // convert jQuery collection to array to avoid conflicts later\n        mfp.items = data.items.toArray();\n        mfp.index = 0;\n        var items = data.items,\n          item;\n        for (i = 0; i < items.length; i++) {\n          item = items[i];\n          if (item.parsed) {\n            item = item.el[0];\n          }\n          if (item === data.el[0]) {\n            mfp.index = i;\n            break;\n          }\n        }\n      } else {\n        mfp.items = Array.isArray(data.items) ? data.items : [data.items];\n        mfp.index = data.index || 0;\n      }\n\n      // if popup is already opened - we just update the content\n      if (mfp.isOpen) {\n        mfp.updateItemHTML();\n        return;\n      }\n      mfp.types = [];\n      _wrapClasses = '';\n      if (data.mainEl && data.mainEl.length) {\n        mfp.ev = data.mainEl.eq(0);\n      } else {\n        mfp.ev = _document;\n      }\n      if (data.key) {\n        if (!mfp.popupsCache[data.key]) {\n          mfp.popupsCache[data.key] = {};\n        }\n        mfp.currTemplate = mfp.popupsCache[data.key];\n      } else {\n        mfp.currTemplate = {};\n      }\n      mfp.st = $.extend(true, {}, $.magnificPopup.defaults, data);\n      mfp.fixedContentPos = mfp.st.fixedContentPos === 'auto' ? !mfp.probablyMobile : mfp.st.fixedContentPos;\n      if (mfp.st.modal) {\n        mfp.st.closeOnContentClick = false;\n        mfp.st.closeOnBgClick = false;\n        mfp.st.showCloseBtn = false;\n        mfp.st.enableEscapeKey = false;\n      }\n\n      // Building markup\n      // main containers are created only once\n      if (!mfp.bgOverlay) {\n        // Dark overlay\n        mfp.bgOverlay = _getEl('bg').on('click' + EVENT_NS, function () {\n          mfp.close();\n        });\n        mfp.wrap = _getEl('wrap').attr('tabindex', -1).on('click' + EVENT_NS, function (e) {\n          if (mfp._checkIfClose(e.target)) {\n            mfp.close();\n          }\n        });\n        mfp.container = _getEl('container', mfp.wrap);\n      }\n      mfp.contentContainer = _getEl('content');\n      if (mfp.st.preloader) {\n        mfp.preloader = _getEl('preloader', mfp.container, mfp.st.tLoading);\n      }\n\n      // Initializing modules\n      var modules = $.magnificPopup.modules;\n      for (i = 0; i < modules.length; i++) {\n        var n = modules[i];\n        n = n.charAt(0).toUpperCase() + n.slice(1);\n        mfp['init' + n].call(mfp);\n      }\n      _mfpTrigger('BeforeOpen');\n      if (mfp.st.showCloseBtn) {\n        // Close button\n        if (!mfp.st.closeBtnInside) {\n          mfp.wrap.append(_getCloseBtn());\n        } else {\n          _mfpOn(MARKUP_PARSE_EVENT, function (e, template, values, item) {\n            values.close_replaceWith = _getCloseBtn(item.type);\n          });\n          _wrapClasses += ' mfp-close-btn-in';\n        }\n      }\n      if (mfp.st.alignTop) {\n        _wrapClasses += ' mfp-align-top';\n      }\n      if (mfp.fixedContentPos) {\n        mfp.wrap.css({\n          overflow: mfp.st.overflowY,\n          overflowX: 'hidden',\n          overflowY: mfp.st.overflowY\n        });\n      } else {\n        mfp.wrap.css({\n          top: _window.scrollTop(),\n          position: 'absolute'\n        });\n      }\n      if (mfp.st.fixedBgPos === false || mfp.st.fixedBgPos === 'auto' && !mfp.fixedContentPos) {\n        mfp.bgOverlay.css({\n          height: _document.height(),\n          position: 'absolute'\n        });\n      }\n      if (mfp.st.enableEscapeKey) {\n        // Close on ESC key\n        _document.on('keyup' + EVENT_NS, function (e) {\n          if (e.keyCode === 27) {\n            mfp.close();\n          }\n        });\n      }\n      _window.on('resize' + EVENT_NS, function () {\n        mfp.updateSize();\n      });\n      if (!mfp.st.closeOnContentClick) {\n        _wrapClasses += ' mfp-auto-cursor';\n      }\n      if (_wrapClasses) mfp.wrap.addClass(_wrapClasses);\n\n      // this triggers recalculation of layout, so we get it once to not to trigger twice\n      var windowHeight = mfp.wH = _window.height();\n      var windowStyles = {};\n      if (mfp.fixedContentPos) {\n        if (mfp._hasScrollBar(windowHeight)) {\n          var s = mfp._getScrollbarSize();\n          if (s) {\n            windowStyles.marginRight = s;\n          }\n        }\n      }\n      if (mfp.fixedContentPos) {\n        if (!mfp.isIE7) {\n          windowStyles.overflow = 'hidden';\n        } else {\n          // ie7 double-scroll bug\n          $('body, html').css('overflow', 'hidden');\n        }\n      }\n      var classesToadd = mfp.st.mainClass;\n      if (mfp.isIE7) {\n        classesToadd += ' mfp-ie7';\n      }\n      if (classesToadd) {\n        mfp._addClassToMFP(classesToadd);\n      }\n\n      // add content\n      mfp.updateItemHTML();\n      _mfpTrigger('BuildControls');\n\n      // remove scrollbar, add margin e.t.c\n      $('html').css(windowStyles);\n\n      // add everything to DOM\n      mfp.bgOverlay.add(mfp.wrap).prependTo(mfp.st.prependTo || $(document.body));\n\n      // Save last focused element\n      mfp._lastFocusedEl = document.activeElement;\n\n      // Wait for next cycle to allow CSS transition\n      setTimeout(function () {\n        if (mfp.content) {\n          mfp._addClassToMFP(READY_CLASS);\n          mfp._setFocus();\n        } else {\n          // if content is not defined (not loaded e.t.c) we add class only for BG\n          mfp.bgOverlay.addClass(READY_CLASS);\n        }\n\n        // Trap the focus in popup\n        _document.on('focusin' + EVENT_NS, mfp._onFocusIn);\n      }, 16);\n      mfp.isOpen = true;\n      mfp.updateSize(windowHeight);\n      _mfpTrigger(OPEN_EVENT);\n      return data;\n    },\n    /**\r\n     * Closes the popup\r\n     */\n    close: function () {\n      if (!mfp.isOpen) return;\n      _mfpTrigger(BEFORE_CLOSE_EVENT);\n      mfp.isOpen = false;\n      // for CSS3 animation\n      if (mfp.st.removalDelay && !mfp.isLowIE && mfp.supportsTransition) {\n        mfp._addClassToMFP(REMOVING_CLASS);\n        setTimeout(function () {\n          mfp._close();\n        }, mfp.st.removalDelay);\n      } else {\n        mfp._close();\n      }\n    },\n    /**\r\n     * Helper for close() function\r\n     */\n    _close: function () {\n      _mfpTrigger(CLOSE_EVENT);\n      var classesToRemove = REMOVING_CLASS + ' ' + READY_CLASS + ' ';\n      mfp.bgOverlay.detach();\n      mfp.wrap.detach();\n      mfp.container.empty();\n      if (mfp.st.mainClass) {\n        classesToRemove += mfp.st.mainClass + ' ';\n      }\n      mfp._removeClassFromMFP(classesToRemove);\n      if (mfp.fixedContentPos) {\n        var windowStyles = {\n          marginRight: ''\n        };\n        if (mfp.isIE7) {\n          $('body, html').css('overflow', '');\n        } else {\n          windowStyles.overflow = '';\n        }\n        $('html').css(windowStyles);\n      }\n      _document.off('keyup' + EVENT_NS + ' focusin' + EVENT_NS);\n      mfp.ev.off(EVENT_NS);\n\n      // clean up DOM elements that aren't removed\n      mfp.wrap.attr('class', 'mfp-wrap').removeAttr('style');\n      mfp.bgOverlay.attr('class', 'mfp-bg');\n      mfp.container.attr('class', 'mfp-container');\n\n      // remove close button from target element\n      if (mfp.st.showCloseBtn && (!mfp.st.closeBtnInside || mfp.currTemplate[mfp.currItem.type] === true)) {\n        if (mfp.currTemplate.closeBtn) mfp.currTemplate.closeBtn.detach();\n      }\n      if (mfp.st.autoFocusLast && mfp._lastFocusedEl) {\n        $(mfp._lastFocusedEl).trigger('focus'); // put tab focus back\n      }\n      mfp.currItem = null;\n      mfp.content = null;\n      mfp.currTemplate = null;\n      mfp.prevHeight = 0;\n      _mfpTrigger(AFTER_CLOSE_EVENT);\n    },\n    updateSize: function (winHeight) {\n      if (mfp.isIOS) {\n        // fixes iOS nav bars https://github.com/dimsemenov/Magnific-Popup/issues/2\n        var zoomLevel = document.documentElement.clientWidth / window.innerWidth;\n        var height = window.innerHeight * zoomLevel;\n        mfp.wrap.css('height', height);\n        mfp.wH = height;\n      } else {\n        mfp.wH = winHeight || _window.height();\n      }\n      // Fixes #84: popup incorrectly positioned with position:relative on body\n      if (!mfp.fixedContentPos) {\n        mfp.wrap.css('height', mfp.wH);\n      }\n      _mfpTrigger('Resize');\n    },\n    /**\r\n     * Set content of popup based on current index\r\n     */\n    updateItemHTML: function () {\n      var item = mfp.items[mfp.index];\n\n      // Detach and perform modifications\n      mfp.contentContainer.detach();\n      if (mfp.content) mfp.content.detach();\n      if (!item.parsed) {\n        item = mfp.parseEl(mfp.index);\n      }\n      var type = item.type;\n      _mfpTrigger('BeforeChange', [mfp.currItem ? mfp.currItem.type : '', type]);\n      // BeforeChange event works like so:\n      // _mfpOn('BeforeChange', function(e, prevType, newType) { });\n\n      mfp.currItem = item;\n      if (!mfp.currTemplate[type]) {\n        var markup = mfp.st[type] ? mfp.st[type].markup : false;\n\n        // allows to modify markup\n        _mfpTrigger('FirstMarkupParse', markup);\n        if (markup) {\n          mfp.currTemplate[type] = $(markup);\n        } else {\n          // if there is no markup found we just define that template is parsed\n          mfp.currTemplate[type] = true;\n        }\n      }\n      if (_prevContentType && _prevContentType !== item.type) {\n        mfp.container.removeClass('mfp-' + _prevContentType + '-holder');\n      }\n      var newContent = mfp['get' + type.charAt(0).toUpperCase() + type.slice(1)](item, mfp.currTemplate[type]);\n      mfp.appendContent(newContent, type);\n      item.preloaded = true;\n      _mfpTrigger(CHANGE_EVENT, item);\n      _prevContentType = item.type;\n\n      // Append container back after its content changed\n      mfp.container.prepend(mfp.contentContainer);\n      _mfpTrigger('AfterChange');\n    },\n    /**\r\n     * Set HTML content of popup\r\n     */\n    appendContent: function (newContent, type) {\n      mfp.content = newContent;\n      if (newContent) {\n        if (mfp.st.showCloseBtn && mfp.st.closeBtnInside && mfp.currTemplate[type] === true) {\n          // if there is no markup, we just append close button element inside\n          if (!mfp.content.find('.mfp-close').length) {\n            mfp.content.append(_getCloseBtn());\n          }\n        } else {\n          mfp.content = newContent;\n        }\n      } else {\n        mfp.content = '';\n      }\n      _mfpTrigger(BEFORE_APPEND_EVENT);\n      mfp.container.addClass('mfp-' + type + '-holder');\n      mfp.contentContainer.append(mfp.content);\n    },\n    /**\r\n     * Creates Magnific Popup data object based on given data\r\n     * @param  {int} index Index of item to parse\r\n     */\n    parseEl: function (index) {\n      var item = mfp.items[index],\n        type;\n      if (item.tagName) {\n        item = {\n          el: $(item)\n        };\n      } else {\n        type = item.type;\n        item = {\n          data: item,\n          src: item.src\n        };\n      }\n      if (item.el) {\n        var types = mfp.types;\n\n        // check for 'mfp-TYPE' class\n        for (var i = 0; i < types.length; i++) {\n          if (item.el.hasClass('mfp-' + types[i])) {\n            type = types[i];\n            break;\n          }\n        }\n        item.src = item.el.attr('data-mfp-src');\n        if (!item.src) {\n          item.src = item.el.attr('href');\n        }\n      }\n      item.type = type || mfp.st.type || 'inline';\n      item.index = index;\n      item.parsed = true;\n      mfp.items[index] = item;\n      _mfpTrigger('ElementParse', item);\n      return mfp.items[index];\n    },\n    /**\r\n     * Initializes single popup or a group of popups\r\n     */\n    addGroup: function (el, options) {\n      var eHandler = function (e) {\n        e.mfpEl = this;\n        mfp._openClick(e, el, options);\n      };\n      if (!options) {\n        options = {};\n      }\n      var eName = 'click.magnificPopup';\n      options.mainEl = el;\n      if (options.items) {\n        options.isObj = true;\n        el.off(eName).on(eName, eHandler);\n      } else {\n        options.isObj = false;\n        if (options.delegate) {\n          el.off(eName).on(eName, options.delegate, eHandler);\n        } else {\n          options.items = el;\n          el.off(eName).on(eName, eHandler);\n        }\n      }\n    },\n    _openClick: function (e, el, options) {\n      var midClick = options.midClick !== undefined ? options.midClick : $.magnificPopup.defaults.midClick;\n      if (!midClick && (e.which === 2 || e.ctrlKey || e.metaKey || e.altKey || e.shiftKey)) {\n        return;\n      }\n      var disableOn = options.disableOn !== undefined ? options.disableOn : $.magnificPopup.defaults.disableOn;\n      if (disableOn) {\n        if (typeof disableOn === \"function\") {\n          if (!disableOn.call(mfp)) {\n            return true;\n          }\n        } else {\n          // else it's number\n          if (_window.width() < disableOn) {\n            return true;\n          }\n        }\n      }\n      if (e.type) {\n        e.preventDefault();\n\n        // This will prevent popup from closing if element is inside and popup is already opened\n        if (mfp.isOpen) {\n          e.stopPropagation();\n        }\n      }\n      options.el = $(e.mfpEl);\n      if (options.delegate) {\n        options.items = el.find(options.delegate);\n      }\n      mfp.open(options);\n    },\n    /**\r\n     * Updates text on preloader\r\n     */\n    updateStatus: function (status, text) {\n      if (mfp.preloader) {\n        if (_prevStatus !== status) {\n          mfp.container.removeClass('mfp-s-' + _prevStatus);\n        }\n        if (!text && status === 'loading') {\n          text = mfp.st.tLoading;\n        }\n        var data = {\n          status: status,\n          text: text\n        };\n        // allows to modify status\n        _mfpTrigger('UpdateStatus', data);\n        status = data.status;\n        text = data.text;\n        if (mfp.st.allowHTMLInStatusIndicator) {\n          mfp.preloader.html(text);\n        } else {\n          mfp.preloader.text(text);\n        }\n        mfp.preloader.find('a').on('click', function (e) {\n          e.stopImmediatePropagation();\n        });\n        mfp.container.addClass('mfp-s-' + status);\n        _prevStatus = status;\n      }\n    },\n    /*\r\n    \t\"Private\" helpers that aren't private at all\r\n     */\n    // Check to close popup or not\n    // \"target\" is an element that was clicked\n    _checkIfClose: function (target) {\n      if ($(target).closest('.' + PREVENT_CLOSE_CLASS).length) {\n        return;\n      }\n      var closeOnContent = mfp.st.closeOnContentClick;\n      var closeOnBg = mfp.st.closeOnBgClick;\n      if (closeOnContent && closeOnBg) {\n        return true;\n      } else {\n        // We close the popup if click is on close button or on preloader. Or if there is no content.\n        if (!mfp.content || $(target).closest('.mfp-close').length || mfp.preloader && target === mfp.preloader[0]) {\n          return true;\n        }\n\n        // if click is outside the content\n        if (target !== mfp.content[0] && !$.contains(mfp.content[0], target)) {\n          if (closeOnBg) {\n            // last check, if the clicked element is in DOM, (in case it's removed onclick)\n            if ($.contains(document, target)) {\n              return true;\n            }\n          }\n        } else if (closeOnContent) {\n          return true;\n        }\n      }\n      return false;\n    },\n    _addClassToMFP: function (cName) {\n      mfp.bgOverlay.addClass(cName);\n      mfp.wrap.addClass(cName);\n    },\n    _removeClassFromMFP: function (cName) {\n      this.bgOverlay.removeClass(cName);\n      mfp.wrap.removeClass(cName);\n    },\n    _hasScrollBar: function (winHeight) {\n      return (mfp.isIE7 ? _document.height() : document.body.scrollHeight) > (winHeight || _window.height());\n    },\n    _setFocus: function () {\n      (mfp.st.focus ? mfp.content.find(mfp.st.focus).eq(0) : mfp.wrap).trigger('focus');\n    },\n    _onFocusIn: function (e) {\n      if (e.target !== mfp.wrap[0] && !$.contains(mfp.wrap[0], e.target)) {\n        mfp._setFocus();\n        return false;\n      }\n    },\n    _parseMarkup: function (template, values, item) {\n      var arr;\n      if (item.data) {\n        values = $.extend(item.data, values);\n      }\n      _mfpTrigger(MARKUP_PARSE_EVENT, [template, values, item]);\n      $.each(values, function (key, value) {\n        if (value === undefined || value === false) {\n          return true;\n        }\n        arr = key.split('_');\n        if (arr.length > 1) {\n          var el = template.find(EVENT_NS + '-' + arr[0]);\n          if (el.length > 0) {\n            var attr = arr[1];\n            if (attr === 'replaceWith') {\n              if (el[0] !== value[0]) {\n                el.replaceWith(value);\n              }\n            } else if (attr === 'img') {\n              if (el.is('img')) {\n                el.attr('src', value);\n              } else {\n                el.replaceWith($('<img>').attr('src', value).attr('class', el.attr('class')));\n              }\n            } else {\n              el.attr(arr[1], value);\n            }\n          }\n        } else {\n          if (mfp.st.allowHTMLInTemplate) {\n            template.find(EVENT_NS + '-' + key).html(value);\n          } else {\n            template.find(EVENT_NS + '-' + key).text(value);\n          }\n        }\n      });\n    },\n    _getScrollbarSize: function () {\n      // thx David\n      if (mfp.scrollbarSize === undefined) {\n        var scrollDiv = document.createElement(\"div\");\n        scrollDiv.style.cssText = 'width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;';\n        document.body.appendChild(scrollDiv);\n        mfp.scrollbarSize = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n        document.body.removeChild(scrollDiv);\n      }\n      return mfp.scrollbarSize;\n    }\n  }; /* MagnificPopup core prototype end */\n\n  /**\r\n   * Public static functions\r\n   */\n  $.magnificPopup = {\n    instance: null,\n    proto: MagnificPopup.prototype,\n    modules: [],\n    open: function (options, index) {\n      _checkInstance();\n      if (!options) {\n        options = {};\n      } else {\n        options = $.extend(true, {}, options);\n      }\n      options.isObj = true;\n      options.index = index || 0;\n      return this.instance.open(options);\n    },\n    close: function () {\n      return $.magnificPopup.instance && $.magnificPopup.instance.close();\n    },\n    registerModule: function (name, module) {\n      if (module.options) {\n        $.magnificPopup.defaults[name] = module.options;\n      }\n      $.extend(this.proto, module.proto);\n      this.modules.push(name);\n    },\n    defaults: {\n      // Info about options is in docs:\n      // http://dimsemenov.com/plugins/magnific-popup/documentation.html#options\n\n      disableOn: 0,\n      key: null,\n      midClick: false,\n      mainClass: '',\n      preloader: true,\n      focus: '',\n      // CSS selector of input to focus after popup is opened\n\n      closeOnContentClick: false,\n      closeOnBgClick: true,\n      closeBtnInside: true,\n      showCloseBtn: true,\n      enableEscapeKey: true,\n      modal: false,\n      alignTop: false,\n      removalDelay: 0,\n      prependTo: null,\n      fixedContentPos: 'auto',\n      fixedBgPos: 'auto',\n      overflowY: 'auto',\n      closeMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-close\">&#215;</button>',\n      tClose: 'Close (Esc)',\n      tLoading: 'Loading...',\n      autoFocusLast: true,\n      allowHTMLInStatusIndicator: false,\n      allowHTMLInTemplate: false\n    }\n  };\n  $.fn.magnificPopup = function (options) {\n    _checkInstance();\n    var jqEl = $(this);\n\n    // We call some API method of first param is a string\n    if (typeof options === \"string\") {\n      if (options === 'open') {\n        var items,\n          itemOpts = _isJQ ? jqEl.data('magnificPopup') : jqEl[0].magnificPopup,\n          index = parseInt(arguments[1], 10) || 0;\n        if (itemOpts.items) {\n          items = itemOpts.items[index];\n        } else {\n          items = jqEl;\n          if (itemOpts.delegate) {\n            items = items.find(itemOpts.delegate);\n          }\n          items = items.eq(index);\n        }\n        mfp._openClick({\n          mfpEl: items\n        }, jqEl, itemOpts);\n      } else {\n        if (mfp.isOpen) mfp[options].apply(mfp, Array.prototype.slice.call(arguments, 1));\n      }\n    } else {\n      // clone options obj\n      options = $.extend(true, {}, options);\n\n      /*\r\n       * As Zepto doesn't support .data() method for objects\r\n       * and it works only in normal browsers\r\n       * we assign \"options\" object directly to the DOM element. FTW!\r\n       */\n      if (_isJQ) {\n        jqEl.data('magnificPopup', options);\n      } else {\n        jqEl[0].magnificPopup = options;\n      }\n      mfp.addGroup(jqEl, options);\n    }\n    return jqEl;\n  };\n\n  /*>>core*/\n\n  /*>>inline*/\n\n  var INLINE_NS = 'inline',\n    _hiddenClass,\n    _inlinePlaceholder,\n    _lastInlineElement,\n    _putInlineElementsBack = function () {\n      if (_lastInlineElement) {\n        _inlinePlaceholder.after(_lastInlineElement.addClass(_hiddenClass)).detach();\n        _lastInlineElement = null;\n      }\n    };\n  $.magnificPopup.registerModule(INLINE_NS, {\n    options: {\n      hiddenClass: 'hide',\n      // will be appended with `mfp-` prefix\n      markup: '',\n      tNotFound: 'Content not found'\n    },\n    proto: {\n      initInline: function () {\n        mfp.types.push(INLINE_NS);\n        _mfpOn(CLOSE_EVENT + '.' + INLINE_NS, function () {\n          _putInlineElementsBack();\n        });\n      },\n      getInline: function (item, template) {\n        _putInlineElementsBack();\n        if (item.src) {\n          var inlineSt = mfp.st.inline,\n            el = $(item.src);\n          if (el.length) {\n            // If target element has parent - we replace it with placeholder and put it back after popup is closed\n            var parent = el[0].parentNode;\n            if (parent && parent.tagName) {\n              if (!_inlinePlaceholder) {\n                _hiddenClass = inlineSt.hiddenClass;\n                _inlinePlaceholder = _getEl(_hiddenClass);\n                _hiddenClass = 'mfp-' + _hiddenClass;\n              }\n              // replace target inline element with placeholder\n              _lastInlineElement = el.after(_inlinePlaceholder).detach().removeClass(_hiddenClass);\n            }\n            mfp.updateStatus('ready');\n          } else {\n            mfp.updateStatus('error', inlineSt.tNotFound);\n            el = $('<div>');\n          }\n          item.inlineElement = el;\n          return el;\n        }\n        mfp.updateStatus('ready');\n        mfp._parseMarkup(template, {}, item);\n        return template;\n      }\n    }\n  });\n\n  /*>>inline*/\n\n  /*>>ajax*/\n  var AJAX_NS = 'ajax',\n    _ajaxCur,\n    _removeAjaxCursor = function () {\n      if (_ajaxCur) {\n        $(document.body).removeClass(_ajaxCur);\n      }\n    },\n    _destroyAjaxRequest = function () {\n      _removeAjaxCursor();\n      if (mfp.req) {\n        mfp.req.abort();\n      }\n    };\n  $.magnificPopup.registerModule(AJAX_NS, {\n    options: {\n      settings: null,\n      cursor: 'mfp-ajax-cur',\n      tError: 'The content could not be loaded.'\n    },\n    proto: {\n      initAjax: function () {\n        mfp.types.push(AJAX_NS);\n        _ajaxCur = mfp.st.ajax.cursor;\n        _mfpOn(CLOSE_EVENT + '.' + AJAX_NS, _destroyAjaxRequest);\n        _mfpOn('BeforeChange.' + AJAX_NS, _destroyAjaxRequest);\n      },\n      getAjax: function (item) {\n        if (_ajaxCur) {\n          $(document.body).addClass(_ajaxCur);\n        }\n        mfp.updateStatus('loading');\n        var opts = $.extend({\n          url: item.src,\n          success: function (data, textStatus, jqXHR) {\n            var temp = {\n              data: data,\n              xhr: jqXHR\n            };\n            _mfpTrigger('ParseAjax', temp);\n            mfp.appendContent($(temp.data), AJAX_NS);\n            item.finished = true;\n            _removeAjaxCursor();\n            mfp._setFocus();\n            setTimeout(function () {\n              mfp.wrap.addClass(READY_CLASS);\n            }, 16);\n            mfp.updateStatus('ready');\n            _mfpTrigger('AjaxContentAdded');\n          },\n          error: function () {\n            _removeAjaxCursor();\n            item.finished = item.loadError = true;\n            mfp.updateStatus('error', mfp.st.ajax.tError.replace('%url%', item.src));\n          }\n        }, mfp.st.ajax.settings);\n        mfp.req = $.ajax(opts);\n        return '';\n      }\n    }\n  });\n\n  /*>>ajax*/\n\n  /*>>image*/\n  var _imgInterval,\n    _getTitle = function (item) {\n      if (item.data && item.data.title !== undefined) return item.data.title;\n      var src = mfp.st.image.titleSrc;\n      if (src) {\n        if (typeof src === \"function\") {\n          return src.call(mfp, item);\n        } else if (item.el) {\n          return item.el.attr(src) || '';\n        }\n      }\n      return '';\n    };\n  $.magnificPopup.registerModule('image', {\n    options: {\n      markup: '<div class=\"mfp-figure\">' + '<div class=\"mfp-close\"></div>' + '<figure>' + '<div class=\"mfp-img\"></div>' + '<figcaption>' + '<div class=\"mfp-bottom-bar\">' + '<div class=\"mfp-title\"></div>' + '<div class=\"mfp-counter\"></div>' + '</div>' + '</figcaption>' + '</figure>' + '</div>',\n      cursor: 'mfp-zoom-out-cur',\n      titleSrc: 'title',\n      verticalFit: true,\n      tError: 'The image could not be loaded.'\n    },\n    proto: {\n      initImage: function () {\n        var imgSt = mfp.st.image,\n          ns = '.image';\n        mfp.types.push('image');\n        _mfpOn(OPEN_EVENT + ns, function () {\n          if (mfp.currItem.type === 'image' && imgSt.cursor) {\n            $(document.body).addClass(imgSt.cursor);\n          }\n        });\n        _mfpOn(CLOSE_EVENT + ns, function () {\n          if (imgSt.cursor) {\n            $(document.body).removeClass(imgSt.cursor);\n          }\n          _window.off('resize' + EVENT_NS);\n        });\n        _mfpOn('Resize' + ns, mfp.resizeImage);\n        if (mfp.isLowIE) {\n          _mfpOn('AfterChange', mfp.resizeImage);\n        }\n      },\n      resizeImage: function () {\n        var item = mfp.currItem;\n        if (!item || !item.img) return;\n        if (mfp.st.image.verticalFit) {\n          var decr = 0;\n          // fix box-sizing in ie7/8\n          if (mfp.isLowIE) {\n            decr = parseInt(item.img.css('padding-top'), 10) + parseInt(item.img.css('padding-bottom'), 10);\n          }\n          item.img.css('max-height', mfp.wH - decr);\n        }\n      },\n      _onImageHasSize: function (item) {\n        if (item.img) {\n          item.hasSize = true;\n          if (_imgInterval) {\n            clearInterval(_imgInterval);\n          }\n          item.isCheckingImgSize = false;\n          _mfpTrigger('ImageHasSize', item);\n          if (item.imgHidden) {\n            if (mfp.content) mfp.content.removeClass('mfp-loading');\n            item.imgHidden = false;\n          }\n        }\n      },\n      /**\r\n       * Function that loops until the image has size to display elements that rely on it asap\r\n       */\n      findImageSize: function (item) {\n        var counter = 0,\n          img = item.img[0],\n          mfpSetInterval = function (delay) {\n            if (_imgInterval) {\n              clearInterval(_imgInterval);\n            }\n            // decelerating interval that checks for size of an image\n            _imgInterval = setInterval(function () {\n              if (img.naturalWidth > 0) {\n                mfp._onImageHasSize(item);\n                return;\n              }\n              if (counter > 200) {\n                clearInterval(_imgInterval);\n              }\n              counter++;\n              if (counter === 3) {\n                mfpSetInterval(10);\n              } else if (counter === 40) {\n                mfpSetInterval(50);\n              } else if (counter === 100) {\n                mfpSetInterval(500);\n              }\n            }, delay);\n          };\n        mfpSetInterval(1);\n      },\n      getImage: function (item, template) {\n        var guard = 0,\n          imgSt = mfp.st.image,\n          // image error handler\n          onLoadError = function () {\n            if (item) {\n              item.img.off('.mfploader');\n              if (item === mfp.currItem) {\n                mfp._onImageHasSize(item);\n                mfp.updateStatus('error', imgSt.tError.replace('%url%', item.src));\n              }\n              item.hasSize = true;\n              item.loaded = true;\n              item.loadError = true;\n            }\n          },\n          // image load complete handler\n          onLoadComplete = function () {\n            if (item) {\n              if (item.img[0].complete) {\n                item.img.off('.mfploader');\n                if (item === mfp.currItem) {\n                  mfp._onImageHasSize(item);\n                  mfp.updateStatus('ready');\n                }\n                item.hasSize = true;\n                item.loaded = true;\n                _mfpTrigger('ImageLoadComplete');\n              } else {\n                // if image complete check fails 200 times (20 sec), we assume that there was an error.\n                guard++;\n                if (guard < 200) {\n                  setTimeout(onLoadComplete, 100);\n                } else {\n                  onLoadError();\n                }\n              }\n            }\n          };\n        var el = template.find('.mfp-img');\n        if (el.length) {\n          var img = document.createElement('img');\n          img.className = 'mfp-img';\n          if (item.el && item.el.find('img').length) {\n            img.alt = item.el.find('img').attr('alt');\n          }\n          item.img = $(img).on('load.mfploader', onLoadComplete).on('error.mfploader', onLoadError);\n          img.src = item.src;\n\n          // without clone() \"error\" event is not firing when IMG is replaced by new IMG\n          // TODO: find a way to avoid such cloning\n          if (el.is('img')) {\n            item.img = item.img.clone();\n          }\n          img = item.img[0];\n          if (img.naturalWidth > 0) {\n            item.hasSize = true;\n          } else if (!img.width) {\n            item.hasSize = false;\n          }\n        }\n        mfp._parseMarkup(template, {\n          title: _getTitle(item),\n          img_replaceWith: item.img\n        }, item);\n        mfp.resizeImage();\n        if (item.hasSize) {\n          if (_imgInterval) clearInterval(_imgInterval);\n          if (item.loadError) {\n            template.addClass('mfp-loading');\n            mfp.updateStatus('error', imgSt.tError.replace('%url%', item.src));\n          } else {\n            template.removeClass('mfp-loading');\n            mfp.updateStatus('ready');\n          }\n          return template;\n        }\n        mfp.updateStatus('loading');\n        item.loading = true;\n        if (!item.hasSize) {\n          item.imgHidden = true;\n          template.addClass('mfp-loading');\n          mfp.findImageSize(item);\n        }\n        return template;\n      }\n    }\n  });\n\n  /*>>image*/\n\n  /*>>zoom*/\n  var hasMozTransform,\n    getHasMozTransform = function () {\n      if (hasMozTransform === undefined) {\n        hasMozTransform = document.createElement('p').style.MozTransform !== undefined;\n      }\n      return hasMozTransform;\n    };\n  $.magnificPopup.registerModule('zoom', {\n    options: {\n      enabled: false,\n      easing: 'ease-in-out',\n      duration: 300,\n      opener: function (element) {\n        return element.is('img') ? element : element.find('img');\n      }\n    },\n    proto: {\n      initZoom: function () {\n        var zoomSt = mfp.st.zoom,\n          ns = '.zoom',\n          image;\n        if (!zoomSt.enabled || !mfp.supportsTransition) {\n          return;\n        }\n        var duration = zoomSt.duration,\n          getElToAnimate = function (image) {\n            var newImg = image.clone().removeAttr('style').removeAttr('class').addClass('mfp-animated-image'),\n              transition = 'all ' + zoomSt.duration / 1000 + 's ' + zoomSt.easing,\n              cssObj = {\n                position: 'fixed',\n                zIndex: 9999,\n                left: 0,\n                top: 0,\n                '-webkit-backface-visibility': 'hidden'\n              },\n              t = 'transition';\n            cssObj['-webkit-' + t] = cssObj['-moz-' + t] = cssObj['-o-' + t] = cssObj[t] = transition;\n            newImg.css(cssObj);\n            return newImg;\n          },\n          showMainContent = function () {\n            mfp.content.css('visibility', 'visible');\n          },\n          openTimeout,\n          animatedImg;\n        _mfpOn('BuildControls' + ns, function () {\n          if (mfp._allowZoom()) {\n            clearTimeout(openTimeout);\n            mfp.content.css('visibility', 'hidden');\n\n            // Basically, all code below does is clones existing image, puts in on top of the current one and animated it\n\n            image = mfp._getItemToZoom();\n            if (!image) {\n              showMainContent();\n              return;\n            }\n            animatedImg = getElToAnimate(image);\n            animatedImg.css(mfp._getOffset());\n            mfp.wrap.append(animatedImg);\n            openTimeout = setTimeout(function () {\n              animatedImg.css(mfp._getOffset(true));\n              openTimeout = setTimeout(function () {\n                showMainContent();\n                setTimeout(function () {\n                  animatedImg.remove();\n                  image = animatedImg = null;\n                  _mfpTrigger('ZoomAnimationEnded');\n                }, 16); // avoid blink when switching images\n              }, duration); // this timeout equals animation duration\n            }, 16); // by adding this timeout we avoid short glitch at the beginning of animation\n\n            // Lots of timeouts...\n          }\n        });\n        _mfpOn(BEFORE_CLOSE_EVENT + ns, function () {\n          if (mfp._allowZoom()) {\n            clearTimeout(openTimeout);\n            mfp.st.removalDelay = duration;\n            if (!image) {\n              image = mfp._getItemToZoom();\n              if (!image) {\n                return;\n              }\n              animatedImg = getElToAnimate(image);\n            }\n            animatedImg.css(mfp._getOffset(true));\n            mfp.wrap.append(animatedImg);\n            mfp.content.css('visibility', 'hidden');\n            setTimeout(function () {\n              animatedImg.css(mfp._getOffset());\n            }, 16);\n          }\n        });\n        _mfpOn(CLOSE_EVENT + ns, function () {\n          if (mfp._allowZoom()) {\n            showMainContent();\n            if (animatedImg) {\n              animatedImg.remove();\n            }\n            image = null;\n          }\n        });\n      },\n      _allowZoom: function () {\n        return mfp.currItem.type === 'image';\n      },\n      _getItemToZoom: function () {\n        if (mfp.currItem.hasSize) {\n          return mfp.currItem.img;\n        } else {\n          return false;\n        }\n      },\n      // Get element postion relative to viewport\n      _getOffset: function (isLarge) {\n        var el;\n        if (isLarge) {\n          el = mfp.currItem.img;\n        } else {\n          el = mfp.st.zoom.opener(mfp.currItem.el || mfp.currItem);\n        }\n        var offset = el.offset();\n        var paddingTop = parseInt(el.css('padding-top'), 10);\n        var paddingBottom = parseInt(el.css('padding-bottom'), 10);\n        offset.top -= $(window).scrollTop() - paddingTop;\n\n        /*\r\n        \t\tAnimating left + top + width/height looks glitchy in Firefox, but perfect in Chrome. And vice-versa.\r\n        \t\t */\n        var obj = {\n          width: el.width(),\n          // fix Zepto height+padding issue\n          height: (_isJQ ? el.innerHeight() : el[0].offsetHeight) - paddingBottom - paddingTop\n        };\n\n        // I hate to do this, but there is no another option\n        if (getHasMozTransform()) {\n          obj['-moz-transform'] = obj['transform'] = 'translate(' + offset.left + 'px,' + offset.top + 'px)';\n        } else {\n          obj.left = offset.left;\n          obj.top = offset.top;\n        }\n        return obj;\n      }\n    }\n  });\n\n  /*>>zoom*/\n\n  /*>>iframe*/\n\n  var IFRAME_NS = 'iframe',\n    _emptyPage = '//about:blank',\n    _fixIframeBugs = function (isShowing) {\n      if (mfp.currTemplate[IFRAME_NS]) {\n        var el = mfp.currTemplate[IFRAME_NS].find('iframe');\n        if (el.length) {\n          // reset src after the popup is closed to avoid \"video keeps playing after popup is closed\" bug\n          if (!isShowing) {\n            el[0].src = _emptyPage;\n          }\n\n          // IE8 black screen bug fix\n          if (mfp.isIE8) {\n            el.css('display', isShowing ? 'block' : 'none');\n          }\n        }\n      }\n    };\n  $.magnificPopup.registerModule(IFRAME_NS, {\n    options: {\n      markup: '<div class=\"mfp-iframe-scaler\">' + '<div class=\"mfp-close\"></div>' + '<iframe class=\"mfp-iframe\" src=\"//about:blank\" frameborder=\"0\" allowfullscreen></iframe>' + '</div>',\n      srcAction: 'iframe_src',\n      // we don't care and support only one default type of URL by default\n      patterns: {\n        youtube: {\n          index: 'youtube.com',\n          id: 'v=',\n          src: '//www.youtube.com/embed/%id%?autoplay=1'\n        },\n        vimeo: {\n          index: 'vimeo.com/',\n          id: '/',\n          src: '//player.vimeo.com/video/%id%?autoplay=1'\n        },\n        gmaps: {\n          index: '//maps.google.',\n          src: '%id%&output=embed'\n        }\n      }\n    },\n    proto: {\n      initIframe: function () {\n        mfp.types.push(IFRAME_NS);\n        _mfpOn('BeforeChange', function (e, prevType, newType) {\n          if (prevType !== newType) {\n            if (prevType === IFRAME_NS) {\n              _fixIframeBugs(); // iframe if removed\n            } else if (newType === IFRAME_NS) {\n              _fixIframeBugs(true); // iframe is showing\n            }\n          } // else {\n          // iframe source is switched, don't do anything\n          //}\n        });\n        _mfpOn(CLOSE_EVENT + '.' + IFRAME_NS, function () {\n          _fixIframeBugs();\n        });\n      },\n      getIframe: function (item, template) {\n        var embedSrc = item.src;\n        var iframeSt = mfp.st.iframe;\n        $.each(iframeSt.patterns, function () {\n          if (embedSrc.indexOf(this.index) > -1) {\n            if (this.id) {\n              if (typeof this.id === 'string') {\n                embedSrc = embedSrc.substr(embedSrc.lastIndexOf(this.id) + this.id.length, embedSrc.length);\n              } else {\n                embedSrc = this.id.call(this, embedSrc);\n              }\n            }\n            embedSrc = this.src.replace('%id%', embedSrc);\n            return false; // break;\n          }\n        });\n        var dataObj = {};\n        if (iframeSt.srcAction) {\n          dataObj[iframeSt.srcAction] = embedSrc;\n        }\n        mfp._parseMarkup(template, dataObj, item);\n        mfp.updateStatus('ready');\n        return template;\n      }\n    }\n  });\n\n  /*>>iframe*/\n\n  /*>>gallery*/\n  /**\r\n   * Get looped index depending on number of slides\r\n   */\n  var _getLoopedId = function (index) {\n      var numSlides = mfp.items.length;\n      if (index > numSlides - 1) {\n        return index - numSlides;\n      } else if (index < 0) {\n        return numSlides + index;\n      }\n      return index;\n    },\n    _replaceCurrTotal = function (text, curr, total) {\n      return text.replace(/%curr%/gi, curr + 1).replace(/%total%/gi, total);\n    };\n  $.magnificPopup.registerModule('gallery', {\n    options: {\n      enabled: false,\n      arrowMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-arrow mfp-arrow-%dir%\"></button>',\n      preload: [0, 2],\n      navigateByImgClick: true,\n      arrows: true,\n      tPrev: 'Previous (Left arrow key)',\n      tNext: 'Next (Right arrow key)',\n      tCounter: '%curr% of %total%',\n      langDir: null,\n      loop: true\n    },\n    proto: {\n      initGallery: function () {\n        var gSt = mfp.st.gallery,\n          ns = '.mfp-gallery';\n        mfp.direction = true; // true - next, false - prev\n\n        if (!gSt || !gSt.enabled) return false;\n        if (!gSt.langDir) {\n          gSt.langDir = document.dir || 'ltr';\n        }\n        _wrapClasses += ' mfp-gallery';\n        _mfpOn(OPEN_EVENT + ns, function () {\n          if (gSt.navigateByImgClick) {\n            mfp.wrap.on('click' + ns, '.mfp-img', function () {\n              if (mfp.items.length > 1) {\n                mfp.next();\n                return false;\n              }\n            });\n          }\n          _document.on('keydown' + ns, function (e) {\n            if (e.keyCode === 37) {\n              if (gSt.langDir === 'rtl') mfp.next();else mfp.prev();\n            } else if (e.keyCode === 39) {\n              if (gSt.langDir === 'rtl') mfp.prev();else mfp.next();\n            }\n          });\n          mfp.updateGalleryButtons();\n        });\n        _mfpOn('UpdateStatus' + ns, function /*e, data*/\n        () {\n          mfp.updateGalleryButtons();\n        });\n        _mfpOn('UpdateStatus' + ns, function (e, data) {\n          if (data.text) {\n            data.text = _replaceCurrTotal(data.text, mfp.currItem.index, mfp.items.length);\n          }\n        });\n        _mfpOn(MARKUP_PARSE_EVENT + ns, function (e, element, values, item) {\n          var l = mfp.items.length;\n          values.counter = l > 1 ? _replaceCurrTotal(gSt.tCounter, item.index, l) : '';\n        });\n        _mfpOn('BuildControls' + ns, function () {\n          if (mfp.items.length > 1 && gSt.arrows && !mfp.arrowLeft) {\n            var arrowLeftDesc, arrowRightDesc, arrowLeftAction, arrowRightAction;\n            if (gSt.langDir === 'rtl') {\n              arrowLeftDesc = gSt.tNext;\n              arrowRightDesc = gSt.tPrev;\n              arrowLeftAction = 'next';\n              arrowRightAction = 'prev';\n            } else {\n              arrowLeftDesc = gSt.tPrev;\n              arrowRightDesc = gSt.tNext;\n              arrowLeftAction = 'prev';\n              arrowRightAction = 'next';\n            }\n            var markup = gSt.arrowMarkup,\n              arrowLeft = mfp.arrowLeft = $(markup.replace(/%title%/gi, arrowLeftDesc).replace(/%action%/gi, arrowLeftAction).replace(/%dir%/gi, 'left')).addClass(PREVENT_CLOSE_CLASS),\n              arrowRight = mfp.arrowRight = $(markup.replace(/%title%/gi, arrowRightDesc).replace(/%action%/gi, arrowRightAction).replace(/%dir%/gi, 'right')).addClass(PREVENT_CLOSE_CLASS);\n            if (gSt.langDir === 'rtl') {\n              mfp.arrowNext = arrowLeft;\n              mfp.arrowPrev = arrowRight;\n            } else {\n              mfp.arrowNext = arrowRight;\n              mfp.arrowPrev = arrowLeft;\n            }\n            arrowLeft.on('click', function () {\n              if (gSt.langDir === 'rtl') mfp.next();else mfp.prev();\n            });\n            arrowRight.on('click', function () {\n              if (gSt.langDir === 'rtl') mfp.prev();else mfp.next();\n            });\n            mfp.container.append(arrowLeft.add(arrowRight));\n          }\n        });\n        _mfpOn(CHANGE_EVENT + ns, function () {\n          if (mfp._preloadTimeout) clearTimeout(mfp._preloadTimeout);\n          mfp._preloadTimeout = setTimeout(function () {\n            mfp.preloadNearbyImages();\n            mfp._preloadTimeout = null;\n          }, 16);\n        });\n        _mfpOn(CLOSE_EVENT + ns, function () {\n          _document.off(ns);\n          mfp.wrap.off('click' + ns);\n          mfp.arrowRight = mfp.arrowLeft = null;\n        });\n      },\n      next: function () {\n        var newIndex = _getLoopedId(mfp.index + 1);\n        if (!mfp.st.gallery.loop && newIndex === 0) return false;\n        mfp.direction = true;\n        mfp.index = newIndex;\n        mfp.updateItemHTML();\n      },\n      prev: function () {\n        var newIndex = mfp.index - 1;\n        if (!mfp.st.gallery.loop && newIndex < 0) return false;\n        mfp.direction = false;\n        mfp.index = _getLoopedId(newIndex);\n        mfp.updateItemHTML();\n      },\n      goTo: function (newIndex) {\n        mfp.direction = newIndex >= mfp.index;\n        mfp.index = newIndex;\n        mfp.updateItemHTML();\n      },\n      preloadNearbyImages: function () {\n        var p = mfp.st.gallery.preload,\n          preloadBefore = Math.min(p[0], mfp.items.length),\n          preloadAfter = Math.min(p[1], mfp.items.length),\n          i;\n        for (i = 1; i <= (mfp.direction ? preloadAfter : preloadBefore); i++) {\n          mfp._preloadItem(mfp.index + i);\n        }\n        for (i = 1; i <= (mfp.direction ? preloadBefore : preloadAfter); i++) {\n          mfp._preloadItem(mfp.index - i);\n        }\n      },\n      _preloadItem: function (index) {\n        index = _getLoopedId(index);\n        if (mfp.items[index].preloaded) {\n          return;\n        }\n        var item = mfp.items[index];\n        if (!item.parsed) {\n          item = mfp.parseEl(index);\n        }\n        _mfpTrigger('LazyLoad', item);\n        if (item.type === 'image') {\n          item.img = $('<img class=\"mfp-img\" />').on('load.mfploader', function () {\n            item.hasSize = true;\n          }).on('error.mfploader', function () {\n            item.hasSize = true;\n            item.loadError = true;\n            _mfpTrigger('LazyLoadError', item);\n          }).attr('src', item.src);\n        }\n        item.preloaded = true;\n      },\n      /**\r\n       * Show/hide the gallery prev/next buttons if we're at the start/end, if looping is turned off\r\n       * Added by Joloco for Veg\r\n       */\n      updateGalleryButtons: function () {\n        if (!mfp.st.gallery.loop && typeof mfp.arrowPrev === 'object' && mfp.arrowPrev !== null) {\n          if (mfp.index === 0) mfp.arrowPrev.hide();else mfp.arrowPrev.show();\n          if (mfp.index === mfp.items.length - 1) mfp.arrowNext.hide();else mfp.arrowNext.show();\n        }\n      }\n    }\n  });\n\n  /*>>gallery*/\n\n  /*>>retina*/\n\n  var RETINA_NS = 'retina';\n  $.magnificPopup.registerModule(RETINA_NS, {\n    options: {\n      replaceSrc: function (item) {\n        return item.src.replace(/\\.\\w+$/, function (m) {\n          return '@2x' + m;\n        });\n      },\n      ratio: 1 // Function or number.  Set to 1 to disable.\n    },\n    proto: {\n      initRetina: function () {\n        if (window.devicePixelRatio > 1) {\n          var st = mfp.st.retina,\n            ratio = st.ratio;\n          ratio = !isNaN(ratio) ? ratio : ratio();\n          if (ratio > 1) {\n            _mfpOn('ImageHasSize' + '.' + RETINA_NS, function (e, item) {\n              item.img.css({\n                'max-width': item.img[0].naturalWidth / ratio,\n                'width': '100%'\n              });\n            });\n            _mfpOn('ElementParse' + '.' + RETINA_NS, function (e, item) {\n              item.src = st.replaceSrc(item, ratio);\n            });\n          }\n        }\n      }\n    }\n  });\n\n  /*>>retina*/\n  _checkInstance();\n});","map":{"version":3,"names":["factory","define","amd","exports","require","window","jQuery","Zepto","$","CLOSE_EVENT","BEFORE_CLOSE_EVENT","AFTER_CLOSE_EVENT","BEFORE_APPEND_EVENT","MARKUP_PARSE_EVENT","OPEN_EVENT","CHANGE_EVENT","NS","EVENT_NS","READY_CLASS","REMOVING_CLASS","PREVENT_CLOSE_CLASS","mfp","MagnificPopup","_isJQ","_prevStatus","_window","_document","_prevContentType","_wrapClasses","_currPopupType","_mfpOn","name","f","ev","on","_getEl","className","appendTo","html","raw","el","document","createElement","innerHTML","appendChild","_mfpTrigger","e","data","triggerHandler","st","callbacks","charAt","toLowerCase","slice","apply","Array","isArray","_getCloseBtn","type","currTemplate","closeBtn","closeMarkup","replace","tClose","_checkInstance","magnificPopup","instance","init","supportsTransitions","s","style","v","undefined","length","pop","prototype","constructor","appVersion","navigator","isLowIE","isIE8","all","addEventListener","isAndroid","test","isIOS","supportsTransition","probablyMobile","userAgent","popupsCache","open","i","isObj","items","toArray","index","item","parsed","isOpen","updateItemHTML","types","mainEl","eq","key","extend","defaults","fixedContentPos","modal","closeOnContentClick","closeOnBgClick","showCloseBtn","enableEscapeKey","bgOverlay","close","wrap","attr","_checkIfClose","target","container","contentContainer","preloader","tLoading","modules","n","toUpperCase","call","closeBtnInside","append","template","values","close_replaceWith","alignTop","css","overflow","overflowY","overflowX","top","scrollTop","position","fixedBgPos","height","keyCode","updateSize","addClass","windowHeight","wH","windowStyles","_hasScrollBar","_getScrollbarSize","marginRight","isIE7","classesToadd","mainClass","_addClassToMFP","add","prependTo","body","_lastFocusedEl","activeElement","setTimeout","content","_setFocus","_onFocusIn","removalDelay","_close","classesToRemove","detach","empty","_removeClassFromMFP","off","removeAttr","currItem","autoFocusLast","trigger","prevHeight","winHeight","zoomLevel","documentElement","clientWidth","innerWidth","innerHeight","parseEl","markup","removeClass","newContent","appendContent","preloaded","prepend","find","tagName","src","hasClass","addGroup","options","eHandler","mfpEl","_openClick","eName","delegate","midClick","which","ctrlKey","metaKey","altKey","shiftKey","disableOn","width","preventDefault","stopPropagation","updateStatus","status","text","allowHTMLInStatusIndicator","stopImmediatePropagation","closest","closeOnContent","closeOnBg","contains","cName","scrollHeight","focus","_parseMarkup","arr","each","value","split","replaceWith","is","allowHTMLInTemplate","scrollbarSize","scrollDiv","cssText","offsetWidth","removeChild","proto","registerModule","module","push","fn","jqEl","itemOpts","parseInt","arguments","INLINE_NS","_hiddenClass","_inlinePlaceholder","_lastInlineElement","_putInlineElementsBack","after","hiddenClass","tNotFound","initInline","getInline","inlineSt","inline","parent","parentNode","inlineElement","AJAX_NS","_ajaxCur","_removeAjaxCursor","_destroyAjaxRequest","req","abort","settings","cursor","tError","initAjax","ajax","getAjax","opts","url","success","textStatus","jqXHR","temp","xhr","finished","error","loadError","_imgInterval","_getTitle","title","image","titleSrc","verticalFit","initImage","imgSt","ns","resizeImage","img","decr","_onImageHasSize","hasSize","clearInterval","isCheckingImgSize","imgHidden","findImageSize","counter","mfpSetInterval","delay","setInterval","naturalWidth","getImage","guard","onLoadError","loaded","onLoadComplete","complete","alt","clone","img_replaceWith","loading","hasMozTransform","getHasMozTransform","MozTransform","enabled","easing","duration","opener","element","initZoom","zoomSt","zoom","getElToAnimate","newImg","transition","cssObj","zIndex","left","t","showMainContent","openTimeout","animatedImg","_allowZoom","clearTimeout","_getItemToZoom","_getOffset","remove","isLarge","offset","paddingTop","paddingBottom","obj","offsetHeight","IFRAME_NS","_emptyPage","_fixIframeBugs","isShowing","srcAction","patterns","youtube","id","vimeo","gmaps","initIframe","prevType","newType","getIframe","embedSrc","iframeSt","iframe","indexOf","substr","lastIndexOf","dataObj","_getLoopedId","numSlides","_replaceCurrTotal","curr","total","arrowMarkup","preload","navigateByImgClick","arrows","tPrev","tNext","tCounter","langDir","loop","initGallery","gSt","gallery","direction","dir","next","prev","updateGalleryButtons","l","arrowLeft","arrowLeftDesc","arrowRightDesc","arrowLeftAction","arrowRightAction","arrowRight","arrowNext","arrowPrev","_preloadTimeout","preloadNearbyImages","newIndex","goTo","p","preloadBefore","Math","min","preloadAfter","_preloadItem","hide","show","RETINA_NS","replaceSrc","m","ratio","initRetina","devicePixelRatio","retina","isNaN"],"sources":["D:/How/1_The first ReactJS project/homeassist-frontend/node_modules/magnific-popup/dist/jquery.magnific-popup.js"],"sourcesContent":["/*! Magnific Popup - v1.2.0 - 2024-06-08\r\n* http://dimsemenov.com/plugins/magnific-popup/\r\n* Copyright (c) 2024 Dmytro Semenov; */\r\n;(function (factory) { \nif (typeof define === 'function' && define.amd) { \n // AMD. Register as an anonymous module. \n define(['jquery'], factory); \n } else if (typeof exports === 'object') { \n // Node/CommonJS \n factory(require('jquery')); \n } else { \n // Browser globals \n factory(window.jQuery || window.Zepto); \n } \n }(function($) { \n\n/*>>core*/\n/**\r\n * \r\n * Magnific Popup Core JS file\r\n * \r\n */\r\n\r\n\r\n/**\r\n * Private static constants\r\n */\r\nvar CLOSE_EVENT = 'Close',\r\n\tBEFORE_CLOSE_EVENT = 'BeforeClose',\r\n\tAFTER_CLOSE_EVENT = 'AfterClose',\r\n\tBEFORE_APPEND_EVENT = 'BeforeAppend',\r\n\tMARKUP_PARSE_EVENT = 'MarkupParse',\r\n\tOPEN_EVENT = 'Open',\r\n\tCHANGE_EVENT = 'Change',\r\n\tNS = 'mfp',\r\n\tEVENT_NS = '.' + NS,\r\n\tREADY_CLASS = 'mfp-ready',\r\n\tREMOVING_CLASS = 'mfp-removing',\r\n\tPREVENT_CLOSE_CLASS = 'mfp-prevent-close';\r\n\r\n\r\n/**\r\n * Private vars \r\n */\r\n/*jshint -W079 */\r\nvar mfp, // As we have only one instance of MagnificPopup object, we define it locally to not to use 'this'\r\n\tMagnificPopup = function(){},\r\n\t_isJQ = !!(window.jQuery),\r\n\t_prevStatus,\r\n\t_window = $(window),\r\n\t_document,\r\n\t_prevContentType,\r\n\t_wrapClasses,\r\n\t_currPopupType;\r\n\r\n\r\n/**\r\n * Private functions\r\n */\r\nvar _mfpOn = function(name, f) {\r\n\t\tmfp.ev.on(NS + name + EVENT_NS, f);\r\n\t},\r\n\t_getEl = function(className, appendTo, html, raw) {\r\n\t\tvar el = document.createElement('div');\r\n\t\tel.className = 'mfp-'+className;\r\n\t\tif(html) {\r\n\t\t\tel.innerHTML = html;\r\n\t\t}\r\n\t\tif(!raw) {\r\n\t\t\tel = $(el);\r\n\t\t\tif(appendTo) {\r\n\t\t\t\tel.appendTo(appendTo);\r\n\t\t\t}\r\n\t\t} else if(appendTo) {\r\n\t\t\tappendTo.appendChild(el);\r\n\t\t}\r\n\t\treturn el;\r\n\t},\r\n\t_mfpTrigger = function(e, data) {\r\n\t\tmfp.ev.triggerHandler(NS + e, data);\r\n\r\n\t\tif(mfp.st.callbacks) {\r\n\t\t\t// converts \"mfpEventName\" to \"eventName\" callback and triggers it if it's present\r\n\t\t\te = e.charAt(0).toLowerCase() + e.slice(1);\r\n\t\t\tif(mfp.st.callbacks[e]) {\r\n\t\t\t\tmfp.st.callbacks[e].apply(mfp, Array.isArray(data) ? data : [data]);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_getCloseBtn = function(type) {\r\n\t\tif(type !== _currPopupType || !mfp.currTemplate.closeBtn) {\r\n\t\t\tmfp.currTemplate.closeBtn = $( mfp.st.closeMarkup.replace('%title%', mfp.st.tClose ) );\r\n\t\t\t_currPopupType = type;\r\n\t\t}\r\n\t\treturn mfp.currTemplate.closeBtn;\r\n\t},\r\n\t// Initialize Magnific Popup only when called at least once\r\n\t_checkInstance = function() {\r\n\t\tif(!$.magnificPopup.instance) {\r\n\t\t\t/*jshint -W020 */\r\n\t\t\tmfp = new MagnificPopup();\r\n\t\t\tmfp.init();\r\n\t\t\t$.magnificPopup.instance = mfp;\r\n\t\t}\r\n\t},\r\n\t// CSS transition detection, http://stackoverflow.com/questions/7264899/detect-css-transitions-using-javascript-and-without-modernizr\r\n\tsupportsTransitions = function() {\r\n\t\tvar s = document.createElement('p').style, // 's' for style. better to create an element if body yet to exist\r\n\t\t\tv = ['ms','O','Moz','Webkit']; // 'v' for vendor\r\n\r\n\t\tif( s['transition'] !== undefined ) {\r\n\t\t\treturn true; \r\n\t\t}\r\n\t\t\t\r\n\t\twhile( v.length ) {\r\n\t\t\tif( v.pop() + 'Transition' in s ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\t\r\n\t\treturn false;\r\n\t};\r\n\r\n\r\n\r\n/**\r\n * Public functions\r\n */\r\nMagnificPopup.prototype = {\r\n\r\n\tconstructor: MagnificPopup,\r\n\r\n\t/**\r\n\t * Initializes Magnific Popup plugin. \r\n\t * This function is triggered only once when $.fn.magnificPopup or $.magnificPopup is executed\r\n\t */\r\n\tinit: function() {\r\n\t\tvar appVersion = navigator.appVersion;\r\n\t\tmfp.isLowIE = mfp.isIE8 = document.all && !document.addEventListener;\r\n\t\tmfp.isAndroid = (/android/gi).test(appVersion);\r\n\t\tmfp.isIOS = (/iphone|ipad|ipod/gi).test(appVersion);\r\n\t\tmfp.supportsTransition = supportsTransitions();\r\n\r\n\t\t// We disable fixed positioned lightbox on devices that don't handle it nicely.\r\n\t\t// If you know a better way of detecting this - let me know.\r\n\t\tmfp.probablyMobile = (mfp.isAndroid || mfp.isIOS || /(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent) );\r\n\t\t_document = $(document);\r\n\r\n\t\tmfp.popupsCache = {};\r\n\t},\r\n\r\n\t/**\r\n\t * Opens popup\r\n\t * @param  data [description]\r\n\t */\r\n\topen: function(data) {\r\n\r\n\t\tvar i;\r\n\r\n\t\tif(data.isObj === false) { \r\n\t\t\t// convert jQuery collection to array to avoid conflicts later\r\n\t\t\tmfp.items = data.items.toArray();\r\n\r\n\t\t\tmfp.index = 0;\r\n\t\t\tvar items = data.items,\r\n\t\t\t\titem;\r\n\t\t\tfor(i = 0; i < items.length; i++) {\r\n\t\t\t\titem = items[i];\r\n\t\t\t\tif(item.parsed) {\r\n\t\t\t\t\titem = item.el[0];\r\n\t\t\t\t}\r\n\t\t\t\tif(item === data.el[0]) {\r\n\t\t\t\t\tmfp.index = i;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tmfp.items = Array.isArray(data.items) ? data.items : [data.items];\r\n\t\t\tmfp.index = data.index || 0;\r\n\t\t}\r\n\r\n\t\t// if popup is already opened - we just update the content\r\n\t\tif(mfp.isOpen) {\r\n\t\t\tmfp.updateItemHTML();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tmfp.types = []; \r\n\t\t_wrapClasses = '';\r\n\t\tif(data.mainEl && data.mainEl.length) {\r\n\t\t\tmfp.ev = data.mainEl.eq(0);\r\n\t\t} else {\r\n\t\t\tmfp.ev = _document;\r\n\t\t}\r\n\r\n\t\tif(data.key) {\r\n\t\t\tif(!mfp.popupsCache[data.key]) {\r\n\t\t\t\tmfp.popupsCache[data.key] = {};\r\n\t\t\t}\r\n\t\t\tmfp.currTemplate = mfp.popupsCache[data.key];\r\n\t\t} else {\r\n\t\t\tmfp.currTemplate = {};\r\n\t\t}\r\n\r\n\r\n\r\n\t\tmfp.st = $.extend(true, {}, $.magnificPopup.defaults, data ); \r\n\t\tmfp.fixedContentPos = mfp.st.fixedContentPos === 'auto' ? !mfp.probablyMobile : mfp.st.fixedContentPos;\r\n\r\n\t\tif(mfp.st.modal) {\r\n\t\t\tmfp.st.closeOnContentClick = false;\r\n\t\t\tmfp.st.closeOnBgClick = false;\r\n\t\t\tmfp.st.showCloseBtn = false;\r\n\t\t\tmfp.st.enableEscapeKey = false;\r\n\t\t}\r\n\t\t\r\n\r\n\t\t// Building markup\r\n\t\t// main containers are created only once\r\n\t\tif(!mfp.bgOverlay) {\r\n\r\n\t\t\t// Dark overlay\r\n\t\t\tmfp.bgOverlay = _getEl('bg').on('click'+EVENT_NS, function() {\r\n\t\t\t\tmfp.close();\r\n\t\t\t});\r\n\r\n\t\t\tmfp.wrap = _getEl('wrap').attr('tabindex', -1).on('click'+EVENT_NS, function(e) {\r\n\t\t\t\tif(mfp._checkIfClose(e.target)) {\r\n\t\t\t\t\tmfp.close();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tmfp.container = _getEl('container', mfp.wrap);\r\n\t\t}\r\n\r\n\t\tmfp.contentContainer = _getEl('content');\r\n\t\tif(mfp.st.preloader) {\r\n\t\t\tmfp.preloader = _getEl('preloader', mfp.container, mfp.st.tLoading);\r\n\t\t}\r\n\r\n\r\n\t\t// Initializing modules\r\n\t\tvar modules = $.magnificPopup.modules;\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar n = modules[i];\r\n\t\t\tn = n.charAt(0).toUpperCase() + n.slice(1);\r\n\t\t\tmfp['init'+n].call(mfp);\r\n\t\t}\r\n\t\t_mfpTrigger('BeforeOpen');\r\n\r\n\r\n\t\tif(mfp.st.showCloseBtn) {\r\n\t\t\t// Close button\r\n\t\t\tif(!mfp.st.closeBtnInside) {\r\n\t\t\t\tmfp.wrap.append( _getCloseBtn() );\r\n\t\t\t} else {\r\n\t\t\t\t_mfpOn(MARKUP_PARSE_EVENT, function(e, template, values, item) {\r\n\t\t\t\t\tvalues.close_replaceWith = _getCloseBtn(item.type);\r\n\t\t\t\t});\r\n\t\t\t\t_wrapClasses += ' mfp-close-btn-in';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(mfp.st.alignTop) {\r\n\t\t\t_wrapClasses += ' mfp-align-top';\r\n\t\t}\r\n\r\n\t\r\n\r\n\t\tif(mfp.fixedContentPos) {\r\n\t\t\tmfp.wrap.css({\r\n\t\t\t\toverflow: mfp.st.overflowY,\r\n\t\t\t\toverflowX: 'hidden',\r\n\t\t\t\toverflowY: mfp.st.overflowY\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tmfp.wrap.css({ \r\n\t\t\t\ttop: _window.scrollTop(),\r\n\t\t\t\tposition: 'absolute'\r\n\t\t\t});\r\n\t\t}\r\n\t\tif( mfp.st.fixedBgPos === false || (mfp.st.fixedBgPos === 'auto' && !mfp.fixedContentPos) ) {\r\n\t\t\tmfp.bgOverlay.css({\r\n\t\t\t\theight: _document.height(),\r\n\t\t\t\tposition: 'absolute'\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\t\tif(mfp.st.enableEscapeKey) {\r\n\t\t\t// Close on ESC key\r\n\t\t\t_document.on('keyup' + EVENT_NS, function(e) {\r\n\t\t\t\tif(e.keyCode === 27) {\r\n\t\t\t\t\tmfp.close();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t_window.on('resize' + EVENT_NS, function() {\r\n\t\t\tmfp.updateSize();\r\n\t\t});\r\n\r\n\r\n\t\tif(!mfp.st.closeOnContentClick) {\r\n\t\t\t_wrapClasses += ' mfp-auto-cursor';\r\n\t\t}\r\n\t\t\r\n\t\tif(_wrapClasses)\r\n\t\t\tmfp.wrap.addClass(_wrapClasses);\r\n\r\n\r\n\t\t// this triggers recalculation of layout, so we get it once to not to trigger twice\r\n\t\tvar windowHeight = mfp.wH = _window.height();\r\n\r\n\t\t\r\n\t\tvar windowStyles = {};\r\n\r\n\t\tif( mfp.fixedContentPos ) {\r\n            if(mfp._hasScrollBar(windowHeight)){\r\n                var s = mfp._getScrollbarSize();\r\n                if(s) {\r\n                    windowStyles.marginRight = s;\r\n                }\r\n            }\r\n        }\r\n\r\n\t\tif(mfp.fixedContentPos) {\r\n\t\t\tif(!mfp.isIE7) {\r\n\t\t\t\twindowStyles.overflow = 'hidden';\r\n\t\t\t} else {\r\n\t\t\t\t// ie7 double-scroll bug\r\n\t\t\t\t$('body, html').css('overflow', 'hidden');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t\r\n\t\t\r\n\t\tvar classesToadd = mfp.st.mainClass;\r\n\t\tif(mfp.isIE7) {\r\n\t\t\tclassesToadd += ' mfp-ie7';\r\n\t\t}\r\n\t\tif(classesToadd) {\r\n\t\t\tmfp._addClassToMFP( classesToadd );\r\n\t\t}\r\n\r\n\t\t// add content\r\n\t\tmfp.updateItemHTML();\r\n\r\n\t\t_mfpTrigger('BuildControls');\r\n\r\n\t\t// remove scrollbar, add margin e.t.c\r\n\t\t$('html').css(windowStyles);\r\n\t\t\r\n\t\t// add everything to DOM\r\n\t\tmfp.bgOverlay.add(mfp.wrap).prependTo( mfp.st.prependTo || $(document.body) );\r\n\r\n\t\t// Save last focused element\r\n\t\tmfp._lastFocusedEl = document.activeElement;\r\n\t\t\r\n\t\t// Wait for next cycle to allow CSS transition\r\n\t\tsetTimeout(function() {\r\n\t\t\t\r\n\t\t\tif(mfp.content) {\r\n\t\t\t\tmfp._addClassToMFP(READY_CLASS);\r\n\t\t\t\tmfp._setFocus();\r\n\t\t\t} else {\r\n\t\t\t\t// if content is not defined (not loaded e.t.c) we add class only for BG\r\n\t\t\t\tmfp.bgOverlay.addClass(READY_CLASS);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Trap the focus in popup\r\n\t\t\t_document.on('focusin' + EVENT_NS, mfp._onFocusIn);\r\n\r\n\t\t}, 16);\r\n\r\n\t\tmfp.isOpen = true;\r\n\t\tmfp.updateSize(windowHeight);\r\n\t\t_mfpTrigger(OPEN_EVENT);\r\n\r\n\t\treturn data;\r\n\t},\r\n\r\n\t/**\r\n\t * Closes the popup\r\n\t */\r\n\tclose: function() {\r\n\t\tif(!mfp.isOpen) return;\r\n\t\t_mfpTrigger(BEFORE_CLOSE_EVENT);\r\n\r\n\t\tmfp.isOpen = false;\r\n\t\t// for CSS3 animation\r\n\t\tif(mfp.st.removalDelay && !mfp.isLowIE && mfp.supportsTransition )  {\r\n\t\t\tmfp._addClassToMFP(REMOVING_CLASS);\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tmfp._close();\r\n\t\t\t}, mfp.st.removalDelay);\r\n\t\t} else {\r\n\t\t\tmfp._close();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Helper for close() function\r\n\t */\r\n\t_close: function() {\r\n\t\t_mfpTrigger(CLOSE_EVENT);\r\n\r\n\t\tvar classesToRemove = REMOVING_CLASS + ' ' + READY_CLASS + ' ';\r\n\r\n\t\tmfp.bgOverlay.detach();\r\n\t\tmfp.wrap.detach();\r\n\t\tmfp.container.empty();\r\n\r\n\t\tif(mfp.st.mainClass) {\r\n\t\t\tclassesToRemove += mfp.st.mainClass + ' ';\r\n\t\t}\r\n\r\n\t\tmfp._removeClassFromMFP(classesToRemove);\r\n\r\n\t\tif(mfp.fixedContentPos) {\r\n\t\t\tvar windowStyles = {marginRight: ''};\r\n\t\t\tif(mfp.isIE7) {\r\n\t\t\t\t$('body, html').css('overflow', '');\r\n\t\t\t} else {\r\n\t\t\t\twindowStyles.overflow = '';\r\n\t\t\t}\r\n\t\t\t$('html').css(windowStyles);\r\n\t\t}\r\n\t\t\r\n\t\t_document.off('keyup' + EVENT_NS + ' focusin' + EVENT_NS);\r\n\t\tmfp.ev.off(EVENT_NS);\r\n\r\n\t\t// clean up DOM elements that aren't removed\r\n\t\tmfp.wrap.attr('class', 'mfp-wrap').removeAttr('style');\r\n\t\tmfp.bgOverlay.attr('class', 'mfp-bg');\r\n\t\tmfp.container.attr('class', 'mfp-container');\r\n\r\n\t\t// remove close button from target element\r\n\t\tif(mfp.st.showCloseBtn &&\r\n\t\t(!mfp.st.closeBtnInside || mfp.currTemplate[mfp.currItem.type] === true)) {\r\n\t\t\tif(mfp.currTemplate.closeBtn)\r\n\t\t\t\tmfp.currTemplate.closeBtn.detach();\r\n\t\t}\r\n\r\n\r\n\t\tif(mfp.st.autoFocusLast && mfp._lastFocusedEl) {\r\n\t\t\t$(mfp._lastFocusedEl).trigger('focus'); // put tab focus back\r\n\t\t}\r\n\t\tmfp.currItem = null;\t\r\n\t\tmfp.content = null;\r\n\t\tmfp.currTemplate = null;\r\n\t\tmfp.prevHeight = 0;\r\n\r\n\t\t_mfpTrigger(AFTER_CLOSE_EVENT);\r\n\t},\r\n\t\r\n\tupdateSize: function(winHeight) {\r\n\r\n\t\tif(mfp.isIOS) {\r\n\t\t\t// fixes iOS nav bars https://github.com/dimsemenov/Magnific-Popup/issues/2\r\n\t\t\tvar zoomLevel = document.documentElement.clientWidth / window.innerWidth;\r\n\t\t\tvar height = window.innerHeight * zoomLevel;\r\n\t\t\tmfp.wrap.css('height', height);\r\n\t\t\tmfp.wH = height;\r\n\t\t} else {\r\n\t\t\tmfp.wH = winHeight || _window.height();\r\n\t\t}\r\n\t\t// Fixes #84: popup incorrectly positioned with position:relative on body\r\n\t\tif(!mfp.fixedContentPos) {\r\n\t\t\tmfp.wrap.css('height', mfp.wH);\r\n\t\t}\r\n\r\n\t\t_mfpTrigger('Resize');\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * Set content of popup based on current index\r\n\t */\r\n\tupdateItemHTML: function() {\r\n\t\tvar item = mfp.items[mfp.index];\r\n\r\n\t\t// Detach and perform modifications\r\n\t\tmfp.contentContainer.detach();\r\n\r\n\t\tif(mfp.content)\r\n\t\t\tmfp.content.detach();\r\n\r\n\t\tif(!item.parsed) {\r\n\t\t\titem = mfp.parseEl( mfp.index );\r\n\t\t}\r\n\r\n\t\tvar type = item.type;\r\n\r\n\t\t_mfpTrigger('BeforeChange', [mfp.currItem ? mfp.currItem.type : '', type]);\r\n\t\t// BeforeChange event works like so:\r\n\t\t// _mfpOn('BeforeChange', function(e, prevType, newType) { });\r\n\r\n\t\tmfp.currItem = item;\r\n\r\n\t\tif(!mfp.currTemplate[type]) {\r\n\t\t\tvar markup = mfp.st[type] ? mfp.st[type].markup : false;\r\n\r\n\t\t\t// allows to modify markup\r\n\t\t\t_mfpTrigger('FirstMarkupParse', markup);\r\n\r\n\t\t\tif(markup) {\r\n\t\t\t\tmfp.currTemplate[type] = $(markup);\r\n\t\t\t} else {\r\n\t\t\t\t// if there is no markup found we just define that template is parsed\r\n\t\t\t\tmfp.currTemplate[type] = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(_prevContentType && _prevContentType !== item.type) {\r\n\t\t\tmfp.container.removeClass('mfp-'+_prevContentType+'-holder');\r\n\t\t}\r\n\r\n\t\tvar newContent = mfp['get' + type.charAt(0).toUpperCase() + type.slice(1)](item, mfp.currTemplate[type]);\r\n\t\tmfp.appendContent(newContent, type);\r\n\r\n\t\titem.preloaded = true;\r\n\r\n\t\t_mfpTrigger(CHANGE_EVENT, item);\r\n\t\t_prevContentType = item.type;\r\n\r\n\t\t// Append container back after its content changed\r\n\t\tmfp.container.prepend(mfp.contentContainer);\r\n\r\n\t\t_mfpTrigger('AfterChange');\r\n\t},\r\n\r\n\r\n\t/**\r\n\t * Set HTML content of popup\r\n\t */\r\n\tappendContent: function(newContent, type) {\r\n\t\tmfp.content = newContent;\r\n\r\n\t\tif(newContent) {\r\n\t\t\tif(mfp.st.showCloseBtn && mfp.st.closeBtnInside &&\r\n\t\t\t\tmfp.currTemplate[type] === true) {\r\n\t\t\t\t// if there is no markup, we just append close button element inside\r\n\t\t\t\tif(!mfp.content.find('.mfp-close').length) {\r\n\t\t\t\t\tmfp.content.append(_getCloseBtn());\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tmfp.content = newContent;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tmfp.content = '';\r\n\t\t}\r\n\r\n\t\t_mfpTrigger(BEFORE_APPEND_EVENT);\r\n\t\tmfp.container.addClass('mfp-'+type+'-holder');\r\n\r\n\t\tmfp.contentContainer.append(mfp.content);\r\n\t},\r\n\r\n\r\n\t/**\r\n\t * Creates Magnific Popup data object based on given data\r\n\t * @param  {int} index Index of item to parse\r\n\t */\r\n\tparseEl: function(index) {\r\n\t\tvar item = mfp.items[index],\r\n\t\t\ttype;\r\n\r\n\t\tif(item.tagName) {\r\n\t\t\titem = { el: $(item) };\r\n\t\t} else {\r\n\t\t\ttype = item.type;\r\n\t\t\titem = { data: item, src: item.src };\r\n\t\t}\r\n\r\n\t\tif(item.el) {\r\n\t\t\tvar types = mfp.types;\r\n\r\n\t\t\t// check for 'mfp-TYPE' class\r\n\t\t\tfor(var i = 0; i < types.length; i++) {\r\n\t\t\t\tif( item.el.hasClass('mfp-'+types[i]) ) {\r\n\t\t\t\t\ttype = types[i];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\titem.src = item.el.attr('data-mfp-src');\r\n\t\t\tif(!item.src) {\r\n\t\t\t\titem.src = item.el.attr('href');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\titem.type = type || mfp.st.type || 'inline';\r\n\t\titem.index = index;\r\n\t\titem.parsed = true;\r\n\t\tmfp.items[index] = item;\r\n\t\t_mfpTrigger('ElementParse', item);\r\n\r\n\t\treturn mfp.items[index];\r\n\t},\r\n\r\n\r\n\t/**\r\n\t * Initializes single popup or a group of popups\r\n\t */\r\n\taddGroup: function(el, options) {\r\n\t\tvar eHandler = function(e) {\r\n\t\t\te.mfpEl = this;\r\n\t\t\tmfp._openClick(e, el, options);\r\n\t\t};\r\n\r\n\t\tif(!options) {\r\n\t\t\toptions = {};\r\n\t\t}\r\n\r\n\t\tvar eName = 'click.magnificPopup';\r\n\t\toptions.mainEl = el;\r\n\r\n\t\tif(options.items) {\r\n\t\t\toptions.isObj = true;\r\n\t\t\tel.off(eName).on(eName, eHandler);\r\n\t\t} else {\r\n\t\t\toptions.isObj = false;\r\n\t\t\tif(options.delegate) {\r\n\t\t\t\tel.off(eName).on(eName, options.delegate , eHandler);\r\n\t\t\t} else {\r\n\t\t\t\toptions.items = el;\r\n\t\t\t\tel.off(eName).on(eName, eHandler);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_openClick: function(e, el, options) {\r\n\t\tvar midClick = options.midClick !== undefined ? options.midClick : $.magnificPopup.defaults.midClick;\r\n\r\n\r\n\t\tif(!midClick && ( e.which === 2 || e.ctrlKey || e.metaKey || e.altKey || e.shiftKey ) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar disableOn = options.disableOn !== undefined ? options.disableOn : $.magnificPopup.defaults.disableOn;\r\n\r\n\t\tif(disableOn) {\r\n\t\t\tif(typeof disableOn === \"function\") {\r\n\t\t\t\tif( !disableOn.call(mfp) ) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t} else { // else it's number\r\n\t\t\t\tif( _window.width() < disableOn ) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(e.type) {\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\t// This will prevent popup from closing if element is inside and popup is already opened\r\n\t\t\tif(mfp.isOpen) {\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\toptions.el = $(e.mfpEl);\r\n\t\tif(options.delegate) {\r\n\t\t\toptions.items = el.find(options.delegate);\r\n\t\t}\r\n\t\tmfp.open(options);\r\n\t},\r\n\r\n\r\n\t/**\r\n\t * Updates text on preloader\r\n\t */\r\n\tupdateStatus: function(status, text) {\r\n\r\n\t\tif(mfp.preloader) {\r\n\t\t\tif(_prevStatus !== status) {\r\n\t\t\t\tmfp.container.removeClass('mfp-s-'+_prevStatus);\r\n\t\t\t}\r\n\r\n\t\t\tif(!text && status === 'loading') {\r\n\t\t\t\ttext = mfp.st.tLoading;\r\n\t\t\t}\r\n\r\n\t\t\tvar data = {\r\n\t\t\t\tstatus: status,\r\n\t\t\t\ttext: text\r\n\t\t\t};\r\n\t\t\t// allows to modify status\r\n\t\t\t_mfpTrigger('UpdateStatus', data);\r\n\r\n\t\t\tstatus = data.status;\r\n\t\t\ttext = data.text;\r\n\r\n\t\t\tif (mfp.st.allowHTMLInStatusIndicator) {\r\n\t\t\t\tmfp.preloader.html(text);\r\n\t\t\t} else {\r\n\t\t\t\tmfp.preloader.text(text);\r\n\t\t\t}\r\n\r\n\t\t\tmfp.preloader.find('a').on('click', function(e) {\r\n\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t});\r\n\r\n\t\t\tmfp.container.addClass('mfp-s-'+status);\r\n\t\t\t_prevStatus = status;\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t/*\r\n\t\t\"Private\" helpers that aren't private at all\r\n\t */\r\n\t// Check to close popup or not\r\n\t// \"target\" is an element that was clicked\r\n\t_checkIfClose: function(target) {\r\n\r\n\t\tif($(target).closest('.' + PREVENT_CLOSE_CLASS).length) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar closeOnContent = mfp.st.closeOnContentClick;\r\n\t\tvar closeOnBg = mfp.st.closeOnBgClick;\r\n\r\n\t\tif(closeOnContent && closeOnBg) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\r\n\t\t\t// We close the popup if click is on close button or on preloader. Or if there is no content.\r\n\t\t\tif(!mfp.content || $(target).closest('.mfp-close').length || (mfp.preloader && target === mfp.preloader[0]) ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\t// if click is outside the content\r\n\t\t\tif(  (target !== mfp.content[0] && !$.contains(mfp.content[0], target))  ) {\r\n\t\t\t\tif(closeOnBg) {\r\n\t\t\t\t\t// last check, if the clicked element is in DOM, (in case it's removed onclick)\r\n\t\t\t\t\tif( $.contains(document, target) ) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if(closeOnContent) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\t_addClassToMFP: function(cName) {\r\n\t\tmfp.bgOverlay.addClass(cName);\r\n\t\tmfp.wrap.addClass(cName);\r\n\t},\r\n\t_removeClassFromMFP: function(cName) {\r\n\t\tthis.bgOverlay.removeClass(cName);\r\n\t\tmfp.wrap.removeClass(cName);\r\n\t},\r\n\t_hasScrollBar: function(winHeight) {\r\n\t\treturn (  (mfp.isIE7 ? _document.height() : document.body.scrollHeight) > (winHeight || _window.height()) );\r\n\t},\r\n\t_setFocus: function() {\r\n\t\t(mfp.st.focus ? mfp.content.find(mfp.st.focus).eq(0) : mfp.wrap).trigger('focus');\r\n\t},\r\n\t_onFocusIn: function(e) {\r\n\t\tif( e.target !== mfp.wrap[0] && !$.contains(mfp.wrap[0], e.target) ) {\r\n\t\t\tmfp._setFocus();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t},\r\n\t_parseMarkup: function(template, values, item) {\r\n\t\tvar arr;\r\n\t\tif(item.data) {\r\n\t\t\tvalues = $.extend(item.data, values);\r\n\t\t}\r\n\t\t_mfpTrigger(MARKUP_PARSE_EVENT, [template, values, item] );\r\n\r\n\t\t$.each(values, function(key, value) {\r\n\t\t\tif(value === undefined || value === false) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tarr = key.split('_');\r\n\t\t\tif(arr.length > 1) {\r\n\t\t\t\tvar el = template.find(EVENT_NS + '-'+arr[0]);\r\n\r\n\t\t\t\tif(el.length > 0) {\r\n\t\t\t\t\tvar attr = arr[1];\r\n\t\t\t\t\tif(attr === 'replaceWith') {\r\n\t\t\t\t\t\tif(el[0] !== value[0]) {\r\n\t\t\t\t\t\t\tel.replaceWith(value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if(attr === 'img') {\r\n\t\t\t\t\t\tif(el.is('img')) {\r\n\t\t\t\t\t\t\tel.attr('src', value);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tel.replaceWith( $('<img>').attr('src', value).attr('class', el.attr('class')) );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tel.attr(arr[1], value);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\tif (mfp.st.allowHTMLInTemplate) {\r\n\t\t\t\t\ttemplate.find(EVENT_NS + '-'+key).html(value);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttemplate.find(EVENT_NS + '-'+key).text(value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\t_getScrollbarSize: function() {\r\n\t\t// thx David\r\n\t\tif(mfp.scrollbarSize === undefined) {\r\n\t\t\tvar scrollDiv = document.createElement(\"div\");\r\n\t\t\tscrollDiv.style.cssText = 'width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;';\r\n\t\t\tdocument.body.appendChild(scrollDiv);\r\n\t\t\tmfp.scrollbarSize = scrollDiv.offsetWidth - scrollDiv.clientWidth;\r\n\t\t\tdocument.body.removeChild(scrollDiv);\r\n\t\t}\r\n\t\treturn mfp.scrollbarSize;\r\n\t}\r\n\r\n}; /* MagnificPopup core prototype end */\r\n\r\n\r\n\r\n\r\n/**\r\n * Public static functions\r\n */\r\n$.magnificPopup = {\r\n\tinstance: null,\r\n\tproto: MagnificPopup.prototype,\r\n\tmodules: [],\r\n\r\n\topen: function(options, index) {\r\n\t\t_checkInstance();\r\n\r\n\t\tif(!options) {\r\n\t\t\toptions = {};\r\n\t\t} else {\r\n\t\t\toptions = $.extend(true, {}, options);\r\n\t\t}\r\n\r\n\t\toptions.isObj = true;\r\n\t\toptions.index = index || 0;\r\n\t\treturn this.instance.open(options);\r\n\t},\r\n\r\n\tclose: function() {\r\n\t\treturn $.magnificPopup.instance && $.magnificPopup.instance.close();\r\n\t},\r\n\r\n\tregisterModule: function(name, module) {\r\n\t\tif(module.options) {\r\n\t\t\t$.magnificPopup.defaults[name] = module.options;\r\n\t\t}\r\n\t\t$.extend(this.proto, module.proto);\r\n\t\tthis.modules.push(name);\r\n\t},\r\n\r\n\tdefaults: {\r\n\r\n\t\t// Info about options is in docs:\r\n\t\t// http://dimsemenov.com/plugins/magnific-popup/documentation.html#options\r\n\r\n\t\tdisableOn: 0,\r\n\r\n\t\tkey: null,\r\n\r\n\t\tmidClick: false,\r\n\r\n\t\tmainClass: '',\r\n\r\n\t\tpreloader: true,\r\n\r\n\t\tfocus: '', // CSS selector of input to focus after popup is opened\r\n\r\n\t\tcloseOnContentClick: false,\r\n\r\n\t\tcloseOnBgClick: true,\r\n\r\n\t\tcloseBtnInside: true,\r\n\r\n\t\tshowCloseBtn: true,\r\n\r\n\t\tenableEscapeKey: true,\r\n\r\n\t\tmodal: false,\r\n\r\n\t\talignTop: false,\r\n\r\n\t\tremovalDelay: 0,\r\n\r\n\t\tprependTo: null,\r\n\r\n\t\tfixedContentPos: 'auto',\r\n\r\n\t\tfixedBgPos: 'auto',\r\n\r\n\t\toverflowY: 'auto',\r\n\r\n\t\tcloseMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-close\">&#215;</button>',\r\n\r\n\t\ttClose: 'Close (Esc)',\r\n\r\n\t\ttLoading: 'Loading...',\r\n\r\n\t\tautoFocusLast: true,\r\n\r\n\t\tallowHTMLInStatusIndicator: false,\r\n\r\n\t\tallowHTMLInTemplate: false\r\n\r\n\t}\r\n};\r\n\r\n\r\n\r\n$.fn.magnificPopup = function(options) {\r\n\t_checkInstance();\r\n\r\n\tvar jqEl = $(this);\r\n\r\n\t// We call some API method of first param is a string\r\n\tif (typeof options === \"string\" ) {\r\n\r\n\t\tif(options === 'open') {\r\n\t\t\tvar items,\r\n\t\t\t\titemOpts = _isJQ ? jqEl.data('magnificPopup') : jqEl[0].magnificPopup,\r\n\t\t\t\tindex = parseInt(arguments[1], 10) || 0;\r\n\r\n\t\t\tif(itemOpts.items) {\r\n\t\t\t\titems = itemOpts.items[index];\r\n\t\t\t} else {\r\n\t\t\t\titems = jqEl;\r\n\t\t\t\tif(itemOpts.delegate) {\r\n\t\t\t\t\titems = items.find(itemOpts.delegate);\r\n\t\t\t\t}\r\n\t\t\t\titems = items.eq( index );\r\n\t\t\t}\r\n\t\t\tmfp._openClick({mfpEl:items}, jqEl, itemOpts);\r\n\t\t} else {\r\n\t\t\tif(mfp.isOpen)\r\n\t\t\t\tmfp[options].apply(mfp, Array.prototype.slice.call(arguments, 1));\r\n\t\t}\r\n\r\n\t} else {\r\n\t\t// clone options obj\r\n\t\toptions = $.extend(true, {}, options);\r\n\r\n\t\t/*\r\n\t\t * As Zepto doesn't support .data() method for objects\r\n\t\t * and it works only in normal browsers\r\n\t\t * we assign \"options\" object directly to the DOM element. FTW!\r\n\t\t */\r\n\t\tif(_isJQ) {\r\n\t\t\tjqEl.data('magnificPopup', options);\r\n\t\t} else {\r\n\t\t\tjqEl[0].magnificPopup = options;\r\n\t\t}\r\n\r\n\t\tmfp.addGroup(jqEl, options);\r\n\r\n\t}\r\n\treturn jqEl;\r\n};\n\n/*>>core*/\n\n/*>>inline*/\n\r\nvar INLINE_NS = 'inline',\r\n\t_hiddenClass,\r\n\t_inlinePlaceholder,\r\n\t_lastInlineElement,\r\n\t_putInlineElementsBack = function() {\r\n\t\tif(_lastInlineElement) {\r\n\t\t\t_inlinePlaceholder.after( _lastInlineElement.addClass(_hiddenClass) ).detach();\r\n\t\t\t_lastInlineElement = null;\r\n\t\t}\r\n\t};\r\n\r\n$.magnificPopup.registerModule(INLINE_NS, {\r\n\toptions: {\r\n\t\thiddenClass: 'hide', // will be appended with `mfp-` prefix\r\n\t\tmarkup: '',\r\n\t\ttNotFound: 'Content not found'\r\n\t},\r\n\tproto: {\r\n\r\n\t\tinitInline: function() {\r\n\t\t\tmfp.types.push(INLINE_NS);\r\n\r\n\t\t\t_mfpOn(CLOSE_EVENT+'.'+INLINE_NS, function() {\r\n\t\t\t\t_putInlineElementsBack();\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tgetInline: function(item, template) {\r\n\r\n\t\t\t_putInlineElementsBack();\r\n\r\n\t\t\tif(item.src) {\r\n\t\t\t\tvar inlineSt = mfp.st.inline,\r\n\t\t\t\t\tel = $(item.src);\r\n\r\n\t\t\t\tif(el.length) {\r\n\r\n\t\t\t\t\t// If target element has parent - we replace it with placeholder and put it back after popup is closed\r\n\t\t\t\t\tvar parent = el[0].parentNode;\r\n\t\t\t\t\tif(parent && parent.tagName) {\r\n\t\t\t\t\t\tif(!_inlinePlaceholder) {\r\n\t\t\t\t\t\t\t_hiddenClass = inlineSt.hiddenClass;\r\n\t\t\t\t\t\t\t_inlinePlaceholder = _getEl(_hiddenClass);\r\n\t\t\t\t\t\t\t_hiddenClass = 'mfp-'+_hiddenClass;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// replace target inline element with placeholder\r\n\t\t\t\t\t\t_lastInlineElement = el.after(_inlinePlaceholder).detach().removeClass(_hiddenClass);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tmfp.updateStatus('ready');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmfp.updateStatus('error', inlineSt.tNotFound);\r\n\t\t\t\t\tel = $('<div>');\r\n\t\t\t\t}\r\n\r\n\t\t\t\titem.inlineElement = el;\r\n\t\t\t\treturn el;\r\n\t\t\t}\r\n\r\n\t\t\tmfp.updateStatus('ready');\r\n\t\t\tmfp._parseMarkup(template, {}, item);\r\n\t\t\treturn template;\r\n\t\t}\r\n\t}\r\n});\n\n/*>>inline*/\n\n/*>>ajax*/\nvar AJAX_NS = 'ajax',\r\n\t_ajaxCur,\r\n\t_removeAjaxCursor = function() {\r\n\t\tif(_ajaxCur) {\r\n\t\t\t$(document.body).removeClass(_ajaxCur);\r\n\t\t}\r\n\t},\r\n\t_destroyAjaxRequest = function() {\r\n\t\t_removeAjaxCursor();\r\n\t\tif(mfp.req) {\r\n\t\t\tmfp.req.abort();\r\n\t\t}\r\n\t};\r\n\r\n$.magnificPopup.registerModule(AJAX_NS, {\r\n\r\n\toptions: {\r\n\t\tsettings: null,\r\n\t\tcursor: 'mfp-ajax-cur',\r\n\t\ttError: 'The content could not be loaded.'\r\n\t},\r\n\r\n\tproto: {\r\n\t\tinitAjax: function() {\r\n\t\t\tmfp.types.push(AJAX_NS);\r\n\t\t\t_ajaxCur = mfp.st.ajax.cursor;\r\n\r\n\t\t\t_mfpOn(CLOSE_EVENT+'.'+AJAX_NS, _destroyAjaxRequest);\r\n\t\t\t_mfpOn('BeforeChange.' + AJAX_NS, _destroyAjaxRequest);\r\n\t\t},\r\n\t\tgetAjax: function(item) {\r\n\r\n\t\t\tif(_ajaxCur) {\r\n\t\t\t\t$(document.body).addClass(_ajaxCur);\r\n\t\t\t}\r\n\r\n\t\t\tmfp.updateStatus('loading');\r\n\r\n\t\t\tvar opts = $.extend({\r\n\t\t\t\turl: item.src,\r\n\t\t\t\tsuccess: function(data, textStatus, jqXHR) {\r\n\t\t\t\t\tvar temp = {\r\n\t\t\t\t\t\tdata:data,\r\n\t\t\t\t\t\txhr:jqXHR\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t_mfpTrigger('ParseAjax', temp);\r\n\r\n\t\t\t\t\tmfp.appendContent( $(temp.data), AJAX_NS );\r\n\r\n\t\t\t\t\titem.finished = true;\r\n\r\n\t\t\t\t\t_removeAjaxCursor();\r\n\r\n\t\t\t\t\tmfp._setFocus();\r\n\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tmfp.wrap.addClass(READY_CLASS);\r\n\t\t\t\t\t}, 16);\r\n\r\n\t\t\t\t\tmfp.updateStatus('ready');\r\n\r\n\t\t\t\t\t_mfpTrigger('AjaxContentAdded');\r\n\t\t\t\t},\r\n\t\t\t\terror: function() {\r\n\t\t\t\t\t_removeAjaxCursor();\r\n\t\t\t\t\titem.finished = item.loadError = true;\r\n\t\t\t\t\tmfp.updateStatus('error', mfp.st.ajax.tError.replace('%url%', item.src));\r\n\t\t\t\t}\r\n\t\t\t}, mfp.st.ajax.settings);\r\n\r\n\t\t\tmfp.req = $.ajax(opts);\r\n\r\n\t\t\treturn '';\r\n\t\t}\r\n\t}\r\n});\n\n/*>>ajax*/\n\n/*>>image*/\nvar _imgInterval,\r\n\t_getTitle = function(item) {\r\n\t\tif(item.data && item.data.title !== undefined)\r\n\t\t\treturn item.data.title;\r\n\r\n\t\tvar src = mfp.st.image.titleSrc;\r\n\r\n\t\tif(src) {\r\n\t\t\tif(typeof src === \"function\") {\r\n\t\t\t\treturn src.call(mfp, item);\r\n\t\t\t} else if(item.el) {\r\n\t\t\t\treturn item.el.attr(src) || '';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn '';\r\n\t};\r\n\r\n$.magnificPopup.registerModule('image', {\r\n\r\n\toptions: {\r\n\t\tmarkup: '<div class=\"mfp-figure\">'+\r\n\t\t\t\t\t'<div class=\"mfp-close\"></div>'+\r\n\t\t\t\t\t'<figure>'+\r\n\t\t\t\t\t\t'<div class=\"mfp-img\"></div>'+\r\n\t\t\t\t\t\t'<figcaption>'+\r\n\t\t\t\t\t\t\t'<div class=\"mfp-bottom-bar\">'+\r\n\t\t\t\t\t\t\t\t'<div class=\"mfp-title\"></div>'+\r\n\t\t\t\t\t\t\t\t'<div class=\"mfp-counter\"></div>'+\r\n\t\t\t\t\t\t\t'</div>'+\r\n\t\t\t\t\t\t'</figcaption>'+\r\n\t\t\t\t\t'</figure>'+\r\n\t\t\t\t'</div>',\r\n\t\tcursor: 'mfp-zoom-out-cur',\r\n\t\ttitleSrc: 'title',\r\n\t\tverticalFit: true,\r\n\t\ttError: 'The image could not be loaded.'\r\n\t},\r\n\r\n\tproto: {\r\n\t\tinitImage: function() {\r\n\t\t\tvar imgSt = mfp.st.image,\r\n\t\t\t\tns = '.image';\r\n\r\n\t\t\tmfp.types.push('image');\r\n\r\n\t\t\t_mfpOn(OPEN_EVENT+ns, function() {\r\n\t\t\t\tif(mfp.currItem.type === 'image' && imgSt.cursor) {\r\n\t\t\t\t\t$(document.body).addClass(imgSt.cursor);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\r\n\t\t\t\tif(imgSt.cursor) {\r\n\t\t\t\t\t$(document.body).removeClass(imgSt.cursor);\r\n\t\t\t\t}\r\n\t\t\t\t_window.off('resize' + EVENT_NS);\r\n\t\t\t});\r\n\r\n\t\t\t_mfpOn('Resize'+ns, mfp.resizeImage);\r\n\t\t\tif(mfp.isLowIE) {\r\n\t\t\t\t_mfpOn('AfterChange', mfp.resizeImage);\r\n\t\t\t}\r\n\t\t},\r\n\t\tresizeImage: function() {\r\n\t\t\tvar item = mfp.currItem;\r\n\t\t\tif(!item || !item.img) return;\r\n\r\n\t\t\tif(mfp.st.image.verticalFit) {\r\n\t\t\t\tvar decr = 0;\r\n\t\t\t\t// fix box-sizing in ie7/8\r\n\t\t\t\tif(mfp.isLowIE) {\r\n\t\t\t\t\tdecr = parseInt(item.img.css('padding-top'), 10) + parseInt(item.img.css('padding-bottom'),10);\r\n\t\t\t\t}\r\n\t\t\t\titem.img.css('max-height', mfp.wH-decr);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_onImageHasSize: function(item) {\r\n\t\t\tif(item.img) {\r\n\r\n\t\t\t\titem.hasSize = true;\r\n\r\n\t\t\t\tif(_imgInterval) {\r\n\t\t\t\t\tclearInterval(_imgInterval);\r\n\t\t\t\t}\r\n\r\n\t\t\t\titem.isCheckingImgSize = false;\r\n\r\n\t\t\t\t_mfpTrigger('ImageHasSize', item);\r\n\r\n\t\t\t\tif(item.imgHidden) {\r\n\t\t\t\t\tif(mfp.content)\r\n\t\t\t\t\t\tmfp.content.removeClass('mfp-loading');\r\n\r\n\t\t\t\t\titem.imgHidden = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Function that loops until the image has size to display elements that rely on it asap\r\n\t\t */\r\n\t\tfindImageSize: function(item) {\r\n\r\n\t\t\tvar counter = 0,\r\n\t\t\t\timg = item.img[0],\r\n\t\t\t\tmfpSetInterval = function(delay) {\r\n\r\n\t\t\t\t\tif(_imgInterval) {\r\n\t\t\t\t\t\tclearInterval(_imgInterval);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// decelerating interval that checks for size of an image\r\n\t\t\t\t\t_imgInterval = setInterval(function() {\r\n\t\t\t\t\t\tif(img.naturalWidth > 0) {\r\n\t\t\t\t\t\t\tmfp._onImageHasSize(item);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif(counter > 200) {\r\n\t\t\t\t\t\t\tclearInterval(_imgInterval);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tcounter++;\r\n\t\t\t\t\t\tif(counter === 3) {\r\n\t\t\t\t\t\t\tmfpSetInterval(10);\r\n\t\t\t\t\t\t} else if(counter === 40) {\r\n\t\t\t\t\t\t\tmfpSetInterval(50);\r\n\t\t\t\t\t\t} else if(counter === 100) {\r\n\t\t\t\t\t\t\tmfpSetInterval(500);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, delay);\r\n\t\t\t\t};\r\n\r\n\t\t\tmfpSetInterval(1);\r\n\t\t},\r\n\r\n\t\tgetImage: function(item, template) {\r\n\r\n\t\t\tvar guard = 0,\r\n\r\n\t\t\t\timgSt = mfp.st.image,\r\n\r\n\t\t\t\t// image error handler\r\n\t\t\t\tonLoadError = function() {\r\n\t\t\t\t\tif(item) {\r\n\t\t\t\t\t\titem.img.off('.mfploader');\r\n\t\t\t\t\t\tif(item === mfp.currItem){\r\n\t\t\t\t\t\t\tmfp._onImageHasSize(item);\r\n\t\t\t\t\t\t\tmfp.updateStatus('error', imgSt.tError.replace('%url%', item.src) );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\titem.hasSize = true;\r\n\t\t\t\t\t\titem.loaded = true;\r\n\t\t\t\t\t\titem.loadError = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// image load complete handler\r\n\t\t\t\tonLoadComplete = function() {\r\n\t\t\t\t\tif(item) {\r\n\t\t\t\t\t\tif (item.img[0].complete) {\r\n\t\t\t\t\t\t\titem.img.off('.mfploader');\r\n\r\n\t\t\t\t\t\t\tif(item === mfp.currItem){\r\n\t\t\t\t\t\t\t\tmfp._onImageHasSize(item);\r\n\r\n\t\t\t\t\t\t\t\tmfp.updateStatus('ready');\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\titem.hasSize = true;\r\n\t\t\t\t\t\t\titem.loaded = true;\r\n\r\n\t\t\t\t\t\t\t_mfpTrigger('ImageLoadComplete');\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t// if image complete check fails 200 times (20 sec), we assume that there was an error.\r\n\t\t\t\t\t\t\tguard++;\r\n\t\t\t\t\t\t\tif(guard < 200) {\r\n\t\t\t\t\t\t\t\tsetTimeout(onLoadComplete,100);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tonLoadError();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\r\n\r\n\t\t\tvar el = template.find('.mfp-img');\r\n\t\t\tif(el.length) {\r\n\t\t\t\tvar img = document.createElement('img');\r\n\t\t\t\timg.className = 'mfp-img';\r\n\t\t\t\tif(item.el && item.el.find('img').length) {\r\n\t\t\t\t\timg.alt = item.el.find('img').attr('alt');\r\n\t\t\t\t}\r\n\t\t\t\titem.img = $(img).on('load.mfploader', onLoadComplete).on('error.mfploader', onLoadError);\r\n\t\t\t\timg.src = item.src;\r\n\r\n\t\t\t\t// without clone() \"error\" event is not firing when IMG is replaced by new IMG\r\n\t\t\t\t// TODO: find a way to avoid such cloning\r\n\t\t\t\tif(el.is('img')) {\r\n\t\t\t\t\titem.img = item.img.clone();\r\n\t\t\t\t}\r\n\r\n\t\t\t\timg = item.img[0];\r\n\t\t\t\tif(img.naturalWidth > 0) {\r\n\t\t\t\t\titem.hasSize = true;\r\n\t\t\t\t} else if(!img.width) {\r\n\t\t\t\t\titem.hasSize = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tmfp._parseMarkup(template, {\r\n\t\t\t\ttitle: _getTitle(item),\r\n\t\t\t\timg_replaceWith: item.img\r\n\t\t\t}, item);\r\n\r\n\t\t\tmfp.resizeImage();\r\n\r\n\t\t\tif(item.hasSize) {\r\n\t\t\t\tif(_imgInterval) clearInterval(_imgInterval);\r\n\r\n\t\t\t\tif(item.loadError) {\r\n\t\t\t\t\ttemplate.addClass('mfp-loading');\r\n\t\t\t\t\tmfp.updateStatus('error', imgSt.tError.replace('%url%', item.src) );\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttemplate.removeClass('mfp-loading');\r\n\t\t\t\t\tmfp.updateStatus('ready');\r\n\t\t\t\t}\r\n\t\t\t\treturn template;\r\n\t\t\t}\r\n\r\n\t\t\tmfp.updateStatus('loading');\r\n\t\t\titem.loading = true;\r\n\r\n\t\t\tif(!item.hasSize) {\r\n\t\t\t\titem.imgHidden = true;\r\n\t\t\t\ttemplate.addClass('mfp-loading');\r\n\t\t\t\tmfp.findImageSize(item);\r\n\t\t\t}\r\n\r\n\t\t\treturn template;\r\n\t\t}\r\n\t}\r\n});\n\n/*>>image*/\n\n/*>>zoom*/\nvar hasMozTransform,\r\n\tgetHasMozTransform = function() {\r\n\t\tif(hasMozTransform === undefined) {\r\n\t\t\thasMozTransform = document.createElement('p').style.MozTransform !== undefined;\r\n\t\t}\r\n\t\treturn hasMozTransform;\r\n\t};\r\n\r\n$.magnificPopup.registerModule('zoom', {\r\n\r\n\toptions: {\r\n\t\tenabled: false,\r\n\t\teasing: 'ease-in-out',\r\n\t\tduration: 300,\r\n\t\topener: function(element) {\r\n\t\t\treturn element.is('img') ? element : element.find('img');\r\n\t\t}\r\n\t},\r\n\r\n\tproto: {\r\n\r\n\t\tinitZoom: function() {\r\n\t\t\tvar zoomSt = mfp.st.zoom,\r\n\t\t\t\tns = '.zoom',\r\n\t\t\t\timage;\r\n\r\n\t\t\tif(!zoomSt.enabled || !mfp.supportsTransition) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar duration = zoomSt.duration,\r\n\t\t\t\tgetElToAnimate = function(image) {\r\n\t\t\t\t\tvar newImg = image.clone().removeAttr('style').removeAttr('class').addClass('mfp-animated-image'),\r\n\t\t\t\t\t\ttransition = 'all '+(zoomSt.duration/1000)+'s ' + zoomSt.easing,\r\n\t\t\t\t\t\tcssObj = {\r\n\t\t\t\t\t\t\tposition: 'fixed',\r\n\t\t\t\t\t\t\tzIndex: 9999,\r\n\t\t\t\t\t\t\tleft: 0,\r\n\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\t'-webkit-backface-visibility': 'hidden'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tt = 'transition';\r\n\r\n\t\t\t\t\tcssObj['-webkit-'+t] = cssObj['-moz-'+t] = cssObj['-o-'+t] = cssObj[t] = transition;\r\n\r\n\t\t\t\t\tnewImg.css(cssObj);\r\n\t\t\t\t\treturn newImg;\r\n\t\t\t\t},\r\n\t\t\t\tshowMainContent = function() {\r\n\t\t\t\t\tmfp.content.css('visibility', 'visible');\r\n\t\t\t\t},\r\n\t\t\t\topenTimeout,\r\n\t\t\t\tanimatedImg;\r\n\r\n\t\t\t_mfpOn('BuildControls'+ns, function() {\r\n\t\t\t\tif(mfp._allowZoom()) {\r\n\r\n\t\t\t\t\tclearTimeout(openTimeout);\r\n\t\t\t\t\tmfp.content.css('visibility', 'hidden');\r\n\r\n\t\t\t\t\t// Basically, all code below does is clones existing image, puts in on top of the current one and animated it\r\n\r\n\t\t\t\t\timage = mfp._getItemToZoom();\r\n\r\n\t\t\t\t\tif(!image) {\r\n\t\t\t\t\t\tshowMainContent();\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tanimatedImg = getElToAnimate(image);\r\n\r\n\t\t\t\t\tanimatedImg.css( mfp._getOffset() );\r\n\r\n\t\t\t\t\tmfp.wrap.append(animatedImg);\r\n\r\n\t\t\t\t\topenTimeout = setTimeout(function() {\r\n\t\t\t\t\t\tanimatedImg.css( mfp._getOffset( true ) );\r\n\t\t\t\t\t\topenTimeout = setTimeout(function() {\r\n\r\n\t\t\t\t\t\t\tshowMainContent();\r\n\r\n\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\tanimatedImg.remove();\r\n\t\t\t\t\t\t\t\timage = animatedImg = null;\r\n\t\t\t\t\t\t\t\t_mfpTrigger('ZoomAnimationEnded');\r\n\t\t\t\t\t\t\t}, 16); // avoid blink when switching images\r\n\r\n\t\t\t\t\t\t}, duration); // this timeout equals animation duration\r\n\r\n\t\t\t\t\t}, 16); // by adding this timeout we avoid short glitch at the beginning of animation\r\n\r\n\r\n\t\t\t\t\t// Lots of timeouts...\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t_mfpOn(BEFORE_CLOSE_EVENT+ns, function() {\r\n\t\t\t\tif(mfp._allowZoom()) {\r\n\r\n\t\t\t\t\tclearTimeout(openTimeout);\r\n\r\n\t\t\t\t\tmfp.st.removalDelay = duration;\r\n\r\n\t\t\t\t\tif(!image) {\r\n\t\t\t\t\t\timage = mfp._getItemToZoom();\r\n\t\t\t\t\t\tif(!image) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tanimatedImg = getElToAnimate(image);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tanimatedImg.css( mfp._getOffset(true) );\r\n\t\t\t\t\tmfp.wrap.append(animatedImg);\r\n\t\t\t\t\tmfp.content.css('visibility', 'hidden');\r\n\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tanimatedImg.css( mfp._getOffset() );\r\n\t\t\t\t\t}, 16);\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\r\n\t\t\t\tif(mfp._allowZoom()) {\r\n\t\t\t\t\tshowMainContent();\r\n\t\t\t\t\tif(animatedImg) {\r\n\t\t\t\t\t\tanimatedImg.remove();\r\n\t\t\t\t\t}\r\n\t\t\t\t\timage = null;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_allowZoom: function() {\r\n\t\t\treturn mfp.currItem.type === 'image';\r\n\t\t},\r\n\r\n\t\t_getItemToZoom: function() {\r\n\t\t\tif(mfp.currItem.hasSize) {\r\n\t\t\t\treturn mfp.currItem.img;\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Get element postion relative to viewport\r\n\t\t_getOffset: function(isLarge) {\r\n\t\t\tvar el;\r\n\t\t\tif(isLarge) {\r\n\t\t\t\tel = mfp.currItem.img;\r\n\t\t\t} else {\r\n\t\t\t\tel = mfp.st.zoom.opener(mfp.currItem.el || mfp.currItem);\r\n\t\t\t}\r\n\r\n\t\t\tvar offset = el.offset();\r\n\t\t\tvar paddingTop = parseInt(el.css('padding-top'),10);\r\n\t\t\tvar paddingBottom = parseInt(el.css('padding-bottom'),10);\r\n\t\t\toffset.top -= ( $(window).scrollTop() - paddingTop );\r\n\r\n\r\n\t\t\t/*\r\n\r\n\t\t\tAnimating left + top + width/height looks glitchy in Firefox, but perfect in Chrome. And vice-versa.\r\n\r\n\t\t\t */\r\n\t\t\tvar obj = {\r\n\t\t\t\twidth: el.width(),\r\n\t\t\t\t// fix Zepto height+padding issue\r\n\t\t\t\theight: (_isJQ ? el.innerHeight() : el[0].offsetHeight) - paddingBottom - paddingTop\r\n\t\t\t};\r\n\r\n\t\t\t// I hate to do this, but there is no another option\r\n\t\t\tif( getHasMozTransform() ) {\r\n\t\t\t\tobj['-moz-transform'] = obj['transform'] = 'translate(' + offset.left + 'px,' + offset.top + 'px)';\r\n\t\t\t} else {\r\n\t\t\t\tobj.left = offset.left;\r\n\t\t\t\tobj.top = offset.top;\r\n\t\t\t}\r\n\t\t\treturn obj;\r\n\t\t}\r\n\r\n\t}\r\n});\r\n\r\n\n\n/*>>zoom*/\n\n/*>>iframe*/\n\r\nvar IFRAME_NS = 'iframe',\r\n\t_emptyPage = '//about:blank',\r\n\r\n\t_fixIframeBugs = function(isShowing) {\r\n\t\tif(mfp.currTemplate[IFRAME_NS]) {\r\n\t\t\tvar el = mfp.currTemplate[IFRAME_NS].find('iframe');\r\n\t\t\tif(el.length) {\r\n\t\t\t\t// reset src after the popup is closed to avoid \"video keeps playing after popup is closed\" bug\r\n\t\t\t\tif(!isShowing) {\r\n\t\t\t\t\tel[0].src = _emptyPage;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// IE8 black screen bug fix\r\n\t\t\t\tif(mfp.isIE8) {\r\n\t\t\t\t\tel.css('display', isShowing ? 'block' : 'none');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n$.magnificPopup.registerModule(IFRAME_NS, {\r\n\r\n\toptions: {\r\n\t\tmarkup: '<div class=\"mfp-iframe-scaler\">'+\r\n\t\t\t\t\t'<div class=\"mfp-close\"></div>'+\r\n\t\t\t\t\t'<iframe class=\"mfp-iframe\" src=\"//about:blank\" frameborder=\"0\" allowfullscreen></iframe>'+\r\n\t\t\t\t'</div>',\r\n\r\n\t\tsrcAction: 'iframe_src',\r\n\r\n\t\t// we don't care and support only one default type of URL by default\r\n\t\tpatterns: {\r\n\t\t\tyoutube: {\r\n\t\t\t\tindex: 'youtube.com',\r\n\t\t\t\tid: 'v=',\r\n\t\t\t\tsrc: '//www.youtube.com/embed/%id%?autoplay=1'\r\n\t\t\t},\r\n\t\t\tvimeo: {\r\n\t\t\t\tindex: 'vimeo.com/',\r\n\t\t\t\tid: '/',\r\n\t\t\t\tsrc: '//player.vimeo.com/video/%id%?autoplay=1'\r\n\t\t\t},\r\n\t\t\tgmaps: {\r\n\t\t\t\tindex: '//maps.google.',\r\n\t\t\t\tsrc: '%id%&output=embed'\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tproto: {\r\n\t\tinitIframe: function() {\r\n\t\t\tmfp.types.push(IFRAME_NS);\r\n\r\n\t\t\t_mfpOn('BeforeChange', function(e, prevType, newType) {\r\n\t\t\t\tif(prevType !== newType) {\r\n\t\t\t\t\tif(prevType === IFRAME_NS) {\r\n\t\t\t\t\t\t_fixIframeBugs(); // iframe if removed\r\n\t\t\t\t\t} else if(newType === IFRAME_NS) {\r\n\t\t\t\t\t\t_fixIframeBugs(true); // iframe is showing\r\n\t\t\t\t\t}\r\n\t\t\t\t}// else {\r\n\t\t\t\t\t// iframe source is switched, don't do anything\r\n\t\t\t\t//}\r\n\t\t\t});\r\n\r\n\t\t\t_mfpOn(CLOSE_EVENT + '.' + IFRAME_NS, function() {\r\n\t\t\t\t_fixIframeBugs();\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tgetIframe: function(item, template) {\r\n\t\t\tvar embedSrc = item.src;\r\n\t\t\tvar iframeSt = mfp.st.iframe;\r\n\r\n\t\t\t$.each(iframeSt.patterns, function() {\r\n\t\t\t\tif(embedSrc.indexOf( this.index ) > -1) {\r\n\t\t\t\t\tif(this.id) {\r\n\t\t\t\t\t\tif(typeof this.id === 'string') {\r\n\t\t\t\t\t\t\tembedSrc = embedSrc.substr(embedSrc.lastIndexOf(this.id)+this.id.length, embedSrc.length);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tembedSrc = this.id.call( this, embedSrc );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tembedSrc = this.src.replace('%id%', embedSrc );\r\n\t\t\t\t\treturn false; // break;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tvar dataObj = {};\r\n\t\t\tif(iframeSt.srcAction) {\r\n\t\t\t\tdataObj[iframeSt.srcAction] = embedSrc;\r\n\t\t\t}\r\n\r\n\t\t\tmfp._parseMarkup(template, dataObj, item);\r\n\r\n\t\t\tmfp.updateStatus('ready');\r\n\r\n\t\t\treturn template;\r\n\t\t}\r\n\t}\r\n});\r\n\r\n\n\n/*>>iframe*/\n\n/*>>gallery*/\n/**\r\n * Get looped index depending on number of slides\r\n */\r\nvar _getLoopedId = function(index) {\r\n\t\tvar numSlides = mfp.items.length;\r\n\t\tif(index > numSlides - 1) {\r\n\t\t\treturn index - numSlides;\r\n\t\t} else  if(index < 0) {\r\n\t\t\treturn numSlides + index;\r\n\t\t}\r\n\t\treturn index;\r\n\t},\r\n\t_replaceCurrTotal = function(text, curr, total) {\r\n\t\treturn text.replace(/%curr%/gi, curr + 1).replace(/%total%/gi, total);\r\n\t};\r\n\r\n$.magnificPopup.registerModule('gallery', {\r\n\r\n\toptions: {\r\n\t\tenabled: false,\r\n\t\tarrowMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-arrow mfp-arrow-%dir%\"></button>',\r\n\t\tpreload: [0,2],\r\n\t\tnavigateByImgClick: true,\r\n\t\tarrows: true,\r\n\r\n\t\ttPrev: 'Previous (Left arrow key)',\r\n\t\ttNext: 'Next (Right arrow key)',\r\n\t\ttCounter: '%curr% of %total%',\r\n\t\t\r\n\t\tlangDir: null,\r\n\t\tloop: true,\r\n\t},\r\n\r\n\tproto: {\r\n\t\tinitGallery: function() {\r\n\r\n\t\t\tvar gSt = mfp.st.gallery,\r\n\t\t\t\tns = '.mfp-gallery';\r\n\r\n\t\t\tmfp.direction = true; // true - next, false - prev\r\n\r\n\t\t\tif(!gSt || !gSt.enabled ) return false;\r\n\t\t\t\r\n\t\t\tif (!gSt.langDir) {\r\n\t\t\t\tgSt.langDir = document.dir || 'ltr';\r\n\t\t\t}\r\n\r\n\t\t\t_wrapClasses += ' mfp-gallery';\r\n\r\n\t\t\t_mfpOn(OPEN_EVENT+ns, function() {\r\n\r\n\t\t\t\tif(gSt.navigateByImgClick) {\r\n\t\t\t\t\tmfp.wrap.on('click'+ns, '.mfp-img', function() {\r\n\t\t\t\t\t\tif(mfp.items.length > 1) {\r\n\t\t\t\t\t\t\tmfp.next();\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t_document.on('keydown'+ns, function(e) {\r\n\t\t\t\t\tif (e.keyCode === 37) {\r\n\t\t\t\t\t\tif (gSt.langDir === 'rtl') mfp.next();\r\n\t\t\t\t\t\telse mfp.prev();\r\n\t\t\t\t\t} else if (e.keyCode === 39) {\r\n\t\t\t\t\t\tif (gSt.langDir === 'rtl') mfp.prev();\r\n\t\t\t\t\t\telse mfp.next();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tmfp.updateGalleryButtons();\r\n\r\n\t\t\t});\r\n\r\n\t\t\t_mfpOn('UpdateStatus'+ns, function(/*e, data*/) {\r\n\t\t\t\tmfp.updateGalleryButtons();\r\n\t\t\t});\r\n\r\n\t\t\t_mfpOn('UpdateStatus'+ns, function(e, data) {\r\n\t\t\t\tif(data.text) {\r\n\t\t\t\t\tdata.text = _replaceCurrTotal(data.text, mfp.currItem.index, mfp.items.length);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t_mfpOn(MARKUP_PARSE_EVENT+ns, function(e, element, values, item) {\r\n\t\t\t\tvar l = mfp.items.length;\r\n\t\t\t\tvalues.counter = l > 1 ? _replaceCurrTotal(gSt.tCounter, item.index, l) : '';\r\n\t\t\t});\r\n\r\n\t\t\t_mfpOn('BuildControls' + ns, function() {\r\n\t\t\t\tif(mfp.items.length > 1 && gSt.arrows && !mfp.arrowLeft) {\r\n\r\n\t\t\t\t\tvar arrowLeftDesc, arrowRightDesc, arrowLeftAction, arrowRightAction;\r\n\r\n\t\t\t\t\tif (gSt.langDir === 'rtl') {\r\n\t\t\t\t\t\tarrowLeftDesc = gSt.tNext;\r\n\t\t\t\t\t\tarrowRightDesc = gSt.tPrev;\r\n\t\t\t\t\t\tarrowLeftAction = 'next';\r\n\t\t\t\t\t\tarrowRightAction = 'prev';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tarrowLeftDesc = gSt.tPrev;\r\n\t\t\t\t\t\tarrowRightDesc = gSt.tNext;\r\n\t\t\t\t\t\tarrowLeftAction = 'prev';\r\n\t\t\t\t\t\tarrowRightAction = 'next';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar markup     = gSt.arrowMarkup,\r\n\t\t\t\t\t    arrowLeft  = mfp.arrowLeft = $( markup.replace(/%title%/gi, arrowLeftDesc).replace(/%action%/gi, arrowLeftAction).replace(/%dir%/gi, 'left') ).addClass(PREVENT_CLOSE_CLASS),\r\n\t\t\t\t\t    arrowRight = mfp.arrowRight = $( markup.replace(/%title%/gi, arrowRightDesc).replace(/%action%/gi, arrowRightAction).replace(/%dir%/gi, 'right') ).addClass(PREVENT_CLOSE_CLASS);\r\n\r\n\t\t\t\t\tif (gSt.langDir === 'rtl') {\r\n\t\t\t\t\t\tmfp.arrowNext = arrowLeft;\r\n\t\t\t\t\t\tmfp.arrowPrev = arrowRight;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmfp.arrowNext = arrowRight;\r\n\t\t\t\t\t\tmfp.arrowPrev = arrowLeft;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tarrowLeft.on('click', function() {\r\n\t\t\t\t\t\tif (gSt.langDir === 'rtl') mfp.next();\r\n\t\t\t\t\t\telse mfp.prev();\r\n\t\t\t\t\t});\r\n\t\t\t\t\tarrowRight.on('click', function() {\r\n\t\t\t\t\t\tif (gSt.langDir === 'rtl') mfp.prev();\r\n\t\t\t\t\t\telse mfp.next();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tmfp.container.append(arrowLeft.add(arrowRight));\r\n\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t_mfpOn(CHANGE_EVENT+ns, function() {\r\n\t\t\t\tif(mfp._preloadTimeout) clearTimeout(mfp._preloadTimeout);\r\n\r\n\t\t\t\tmfp._preloadTimeout = setTimeout(function() {\r\n\t\t\t\t\tmfp.preloadNearbyImages();\r\n\t\t\t\t\tmfp._preloadTimeout = null;\r\n\t\t\t\t}, 16);\r\n\t\t\t});\r\n\r\n\r\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\r\n\t\t\t\t_document.off(ns);\r\n\t\t\t\tmfp.wrap.off('click'+ns);\r\n\t\t\t\tmfp.arrowRight = mfp.arrowLeft = null;\r\n\t\t\t});\r\n\r\n\t\t},\r\n\t\tnext: function() {\r\n\t\t\tvar newIndex = _getLoopedId(mfp.index + 1);\r\n\t\t\tif (!mfp.st.gallery.loop && newIndex === 0 ) return false;\r\n\t\t\tmfp.direction = true;\r\n\t\t\tmfp.index = newIndex;\r\n\t\t\tmfp.updateItemHTML();\r\n\t\t},\r\n\t\tprev: function() {\r\n\t\t\tvar newIndex = mfp.index - 1;\r\n\t\t\tif (!mfp.st.gallery.loop && newIndex < 0) return false;\r\n\t\t\tmfp.direction = false;\r\n\t\t\tmfp.index = _getLoopedId(newIndex);\r\n\t\t\tmfp.updateItemHTML();\r\n\t\t},\r\n\t\tgoTo: function(newIndex) {\r\n\t\t\tmfp.direction = (newIndex >= mfp.index);\r\n\t\t\tmfp.index = newIndex;\r\n\t\t\tmfp.updateItemHTML();\r\n\t\t},\r\n\t\tpreloadNearbyImages: function() {\r\n\t\t\tvar p = mfp.st.gallery.preload,\r\n\t\t\t\tpreloadBefore = Math.min(p[0], mfp.items.length),\r\n\t\t\t\tpreloadAfter = Math.min(p[1], mfp.items.length),\r\n\t\t\t\ti;\r\n\r\n\t\t\tfor(i = 1; i <= (mfp.direction ? preloadAfter : preloadBefore); i++) {\r\n\t\t\t\tmfp._preloadItem(mfp.index+i);\r\n\t\t\t}\r\n\t\t\tfor(i = 1; i <= (mfp.direction ? preloadBefore : preloadAfter); i++) {\r\n\t\t\t\tmfp._preloadItem(mfp.index-i);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_preloadItem: function(index) {\r\n\t\t\tindex = _getLoopedId(index);\r\n\r\n\t\t\tif(mfp.items[index].preloaded) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar item = mfp.items[index];\r\n\t\t\tif(!item.parsed) {\r\n\t\t\t\titem = mfp.parseEl( index );\r\n\t\t\t}\r\n\r\n\t\t\t_mfpTrigger('LazyLoad', item);\r\n\r\n\t\t\tif(item.type === 'image') {\r\n\t\t\t\titem.img = $('<img class=\"mfp-img\" />').on('load.mfploader', function() {\r\n\t\t\t\t\titem.hasSize = true;\r\n\t\t\t\t}).on('error.mfploader', function() {\r\n\t\t\t\t\titem.hasSize = true;\r\n\t\t\t\t\titem.loadError = true;\r\n\t\t\t\t\t_mfpTrigger('LazyLoadError', item);\r\n\t\t\t\t}).attr('src', item.src);\r\n\t\t\t}\r\n\r\n\r\n\t\t\titem.preloaded = true;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Show/hide the gallery prev/next buttons if we're at the start/end, if looping is turned off\r\n\t\t * Added by Joloco for Veg\r\n\t\t */\r\n\t\tupdateGalleryButtons: function() {\r\n\r\n\t\t\tif ( !mfp.st.gallery.loop && typeof mfp.arrowPrev === 'object' && mfp.arrowPrev !== null) {\r\n\r\n\t\t\t\tif (mfp.index === 0) mfp.arrowPrev.hide();\r\n\t\t\t\telse mfp.arrowPrev.show();\r\n\r\n\t\t\t\tif (mfp.index === (mfp.items.length - 1)) mfp.arrowNext.hide();\r\n\t\t\t\telse mfp.arrowNext.show();\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t}\r\n\r\n});\r\n\n\n/*>>gallery*/\n\n/*>>retina*/\n\r\nvar RETINA_NS = 'retina';\r\n\r\n$.magnificPopup.registerModule(RETINA_NS, {\r\n\toptions: {\r\n\t\treplaceSrc: function(item) {\r\n\t\t\treturn item.src.replace(/\\.\\w+$/, function(m) { return '@2x' + m; });\r\n\t\t},\r\n\t\tratio: 1 // Function or number.  Set to 1 to disable.\r\n\t},\r\n\tproto: {\r\n\t\tinitRetina: function() {\r\n\t\t\tif(window.devicePixelRatio > 1) {\r\n\r\n\t\t\t\tvar st = mfp.st.retina,\r\n\t\t\t\t\tratio = st.ratio;\r\n\r\n\t\t\t\tratio = !isNaN(ratio) ? ratio : ratio();\r\n\r\n\t\t\t\tif(ratio > 1) {\r\n\t\t\t\t\t_mfpOn('ImageHasSize' + '.' + RETINA_NS, function(e, item) {\r\n\t\t\t\t\t\titem.img.css({\r\n\t\t\t\t\t\t\t'max-width': item.img[0].naturalWidth / ratio,\r\n\t\t\t\t\t\t\t'width': '100%'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t\t_mfpOn('ElementParse' + '.' + RETINA_NS, function(e, item) {\r\n\t\t\t\t\t\titem.src = st.replaceSrc(item, ratio);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n});\n\n/*>>retina*/\n _checkInstance(); }));"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}